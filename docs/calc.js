$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();var n,t;t=new clc.SettingsHandler(function(){n.setSettings(t.getSettings())}),(n=new clc.Calculator(math,t.getSettings())).installExtension(new clc.HexBinLiteralsExtension),n.installExtension(new clc.UnicodeEncodingExtension),n.installExtension(new clc.Base64EncodingExtension),n.installExtension(new clc.HashesExtension),n.installExtension(new clc.ColorExtension(!0)),n.installExtension(new clc.LerpExtension),n.installExtension(new clc.PlotExtension);var i=">";function r(t){var n="";return t.find(">div>span").each(function(t,e){n+=0===t?$(e).text().substr(i.length):$(e).text()}),n}var o=new clc.LinksHandler(function(t){if(void 0!==t)return[r(t)];var i=[];return $(".terminal-output .command").each(function(t,e){var n=r($(e));clc.isStringBlank(n)||i.push(n)}),i}),s=new clc.TexHandler,e=new clc.SyntaxHighlighter;o.setLogLinkButtonEnabled(!1),$.terminal.defaults.formatters.push(function(t){return e.highlight(t)});var a=$(".console-panel").terminal(function(t){if(!clc.isStringBlank(t)){o.setLogLinkButtonEnabled(!0);try{var e=n.evaluate(t);s.addEvaluatedExpression(e.tex,e.result.tex||null),e.result.postprocessed?this.echo(e.result.postprocessed,{raw:!0}):e.result.raw instanceof clc.CallbackResult&&this.echo(e.result.raw.callback,{raw:!0})}catch(t){this.echo("[[;;;terminal-output-error;]"+t.name+": "+t.message+"]")}}},{completion:clc.COMPLETION_KEYWORDS,onEchoCommand:function(t){var e=t.find("div span"),n=e.length?e.text().substring(i.length):"";clc.isStringBlank(n)||o.injectExpressionLinkButton(t.find(">div").last())},name:"clcalc",prompt:"[[;;;prompt-wrapper]"+i+"]",exit:!1,memory:!0,enabled:!0,greetings:function(){this.echo('<div class="welcome-message">Type math expression and press enter to calculate the result. You can use up/down keys to navigate commands history and tab key for autocompletion. Check <a href="/help.html#quickstart" target="_blank">Quick Start</a> guide for some examples.</div>',{raw:!0})},onClear:function(){o.setLogLinkButtonEnabled(!1),s.clear()}});a.option("mousewheel",function(t){return!clc.FunctionPlot2D.isEventConsumed(t)}),window.onhashchange=function(){window.location.reload()};var l=o.getExpressionsListFromUrl();if(l){var c=new RegExp(String.fromCharCode(160),"g");for(var h in l)a.exec(l[h].replace(c," "))}}),Math.log10||(Math.log10=function(t){return Math.log(t)/Math.LN10}),Math.sign||(Math.sign=function(t){return(0<t)-(t<0)||+t}),function(a){a.isStringBlank=function(t){if(!t||!t.length)return!0;for(var e=0;e<t.length;++e)if(" "!==t[e]&&"\t"!==t[e]&&"\r"!==t[e]&&"\n"!==t[e]&&160!==t.charCodeAt(e))return!1;return!0},a.repeatString=function(t,e){for(var n="",i=0;i<e;++i)n+=t;return n},a.padLeft=function(t,e,n){return t.length>=n||1!==e.length?t:a.repeatString(e,n-t.length)+t},a.stringToUnicodeCodePointList=function(t){for(var e=[],n=0;n<t.length;++n){var i=t.charCodeAt(n);if(55296<=i&&i<=56319&&n+1<t.length){var r=t.charCodeAt(n+1);56320<=r&&r<=57343&&(i=1024*(i-55296)+r-56320+65536,++n)}e.push(i)}return e},a.stringFromUnicodeCodePointList=function(t){for(var e="",n=0;n<t.length;++n){var i=a.toUint32(t[n]);if(1114111<i)throw new Error("Invalid code point value: "+i+". Must be less then or equal to 0x10FFFF.");if(65535<i){var r=Math.floor((i-65536)/1024)+55296,o=(i-65536)%1024+56320;e+=String.fromCharCode(r,o)}else e+=String.fromCharCode(i)}return e},a.stringToUtf8Array=function(t){var e=[];t=unescape(encodeURIComponent(t));for(var n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e},a.stringFromUtf8Array=function(t){for(var e=[],n=0;n<t.length;){var i,r=a.toUint8(t[n]);if(0==(128&r))i=127&r,n+=1;else if(r>>>5==6){if(n+1>=t.length)throw new Error("Failed to decode utf8 string: excepceted 1 byte after "+r);i=(31&r)<<6|63&a.toUint8(t[n+1]),n+=2}else if(r>>>4==14){if(n+2>=t.length)throw new Error("Failed to decode utf8 string: excepceted 2 bytes after "+r);i=(15&r)<<12|(63&a.toUint8(t[n+1]))<<6|63&a.toUint8(t[n+2]),n+=3}else{if(r>>>3!=30)throw new Error("Failed to decode utf8 string: unexpected byte "+r+" at position "+n);if(n+3>=t.length)throw new Error("Failed to decode utf8 string: excepceted 3 bytes after "+r);i=(7&r)<<18|(63&a.toUint8(t[n+1]))<<12|(63&a.toUint8(t[n+2]))<<6|63&a.toUint8(t[n+3]),n+=4}e.push(i)}return a.stringFromUnicodeCodePointList(e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";a.base64Encode=function(t){if(0===t.length)return"";var e,n="",i=t.length%3;if(i)for(i=3-i,e=0;e<i;++e)t.push(0);for(e=0;e<t.length;e+=3){var r=a.toUint8(t[e]),o=a.toUint8(t[e+1]),s=a.toUint8(t[e+2]);n+=l[r>>>2],n+=l[(3&r)<<4|o>>>4],n+=e===t.length-3&&2===i?"=":l[(15&o)<<2|s>>>6],n+=e===t.length-3&&i?"=":l[63&s]}return n},a.base64Decode=function(t){if(0===t.length)return[];for(var e=[],n=0;n<t.length;n+=4){var i=l.indexOf(t[n]);if(-1===i)throw new Error("Invalid character at index "+n);if(n+1>=t.length)throw new Error("The string is not correctly base64 encoded: next character expected.");var r=l.indexOf(t[n+1]);if(-1===r)throw new Error("Invalid character at index "+n);var o=n+2<t.length?"="===t[n+2]?0:l.indexOf(t[n+2]):0;if(-1===o)throw new Error("Invalid character at index "+n);var s=n+3<t.length?"="===t[n+3]?0:l.indexOf(t[n+3]):0;if(-1===s)throw new Error("Invalid character at index "+n);if(n+2<t.length&&"="===t[n+2]&&(n+3>=t.length||"="!==t[n+3]))throw new Error("The string is not correctly base64 encoded: improper padding.");e.push(i<<2|r>>>4),n+2<t.length&&"="!==t[n+2]&&(e.push((15&r)<<4|o>>>2),n+3<t.length&&"="!==t[n+3]&&e.push((3&o)<<6|s))}return e},a.randomAlnumString=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",i=0;i<t;++i)n+=e[Math.floor(Math.random()*e.length)];return n},a.randomId=function(t){return t+a.randomAlnumString(10)},a.round1Dec=function(t){return Math.sign(t)*Math.round(10*Math.abs(t))/10},a.truncateNumber=function(t){return 0|t},a.clamp=function(t,e,n){return t<e?e:n<t?n:t},a.mod=function(t,e){return(t%e+e)%e},a.toUint32=function(t){if("number"!=typeof t&&!t.toNumber)throw new Error("Must be a numeric type: "+t);var e=t.toNumber?t.toNumber():t;if(e<0)throw new Error("Number must be non-negative: "+e);if(4294967295<e)throw new Error("Number must fit in 4 byte unsigned integer: "+e);return e>>>0},a.toUint8=function(t){var e=a.toUint32(t);if(255<t)throw new Error("Number exceeds byte range: "+e);return e},a.dropTrailingZeroes=function(t){var e=t.indexOf(".");if(-1!==e){for(var n=t.length-1;e<n&&"0"===t[n];)--n;if(e===n)return t.substring(0,e);if(n<t.length-1)return t.substring(0,n+1)}return t},a.addThousandsSeparator=function(t,e){if(!t.length||!e.length)return t;var n,i="-"===t[0]?1:0,r=t.indexOf("."),o=(-1===r?t.length:r)-i,s="";for(0!==i&&(s+=t[0]),n=i;n<o+i;++n)(o-n+i)%3==0&&n!==i&&(s+=e),s+=t[n];if(-1!==r)for(s+=".",n=r+1;n<t.length;++n)s+=t[n],(n-r)%3==0&&n!==t.length-1&&(s+=e);return s},a.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},a.htmlTag=function(t,e,n){var i="<"+t;if(e)for(var r in e)e.hasOwnProperty(r)&&(i+=" "+r+'="'+e[r]+'"');return n&&a.isArray(n)&&(n=n.join("")),i+=">"+(n||"")+"</"+t+">"},a.domElement=function(t,e,n,i){var r=document.createElementNS(t,e);if(n)for(var o in n)n.hasOwnProperty(o)&&r.setAttribute(o,n[o]);if(i)if(a.isArray(i))for(var s=0;s<i.length;++s)r.appendChild(i[s]);else"string"==typeof i?r.innerHTML=i:r.appendChild(i);return r},a.mathJsToValidNumber=function(t){if("number"==typeof t||t instanceof Number){if(!isFinite(t))throw new Error("Number is infinite or NaN");return t}if(t.toNumber){if(t.isFinite())return t.toNumber();throw new Error("Number is infinite or NaN")}throw new Error("Not a recognized number type")},a.log=function(t){console&&console.log&&console.log(t)}}(window.clc=window.clc||{}),function(o){o.Calculator=function(t,e){var n=this;this._mathJs=t,this._mathJs.config({number:"BigNumber",precision:e.precision}),this._scope={},this._extensions=[],this._settings={precision:e.precision,enableThousandsSeparator:e.thousandsSeparatorEnabled},this._decimalNumberRegexp=new RegExp("^[\\d\\.-]+$",""),this._thousandsSeparator='<span class="ts"></span>',this._thousandsSeparatorRegexp=new RegExp('<span class="ts"><\\/span>',"g"),this._numberFormatter=function(t){var e=t.isBigNumber?o.dropTrailingZeroes(t.toFixed(n._settings.precision)):t.toString();return n._settings.enableThousandsSeparator?n._formatNumberAddDigitGrouping(e):e},this._registerAliases()},o.Calculator.prototype.setSettings=function(t){this._settings.precision=t.precision,this._settings.enableThousandsSeparator=t.thousandsSeparatorEnabled,this._mathJs.config({number:"BigNumber",precision:t.precision})},o.Calculator.prototype.installExtension=function(t){t.extend(this._mathJs),this._extensions.push(t)},o.Calculator.prototype.evaluate=function(e){var t=new o.EvaluatedExpression;if(!o.isStringBlank(e)){var n=this._preprocessExpression(e);try{var i=this._mathJs.parse(n);t.tex=this._nodeToTex(i);var r=i.compile().eval(this._scope);this._assignLastEvaluatedCommand(i,this._scope),this._isValidValue(r)&&(r instanceof o.CallbackResult?t.result.raw=r:(t.result.raw=this._mathJs.format(r,this._numberFormatter),t.result.postprocessed=this._postprocessValue(t.result.raw),t.result.tex=this._valueToTex(t.result.raw)))}catch(t){throw t.message||(t.message="Failed to parse expression"),e!==n&&(t.message+=". Preprocessed expression: '"+n+"'"),t}}return t},o.Calculator.prototype._preprocessExpression=function(t){for(var e=0;e<this._extensions.length;++e){var n=this._extensions[e];n.preprocess&&(t=n.preprocess(t))}return t},o.Calculator.prototype._postprocessValue=function(t){for(var e=0;e<this._extensions.length;++e){var n=this._extensions[e];n.postprocess&&(t=n.postprocess(t))}return t},o.Calculator.prototype._nodeToTex=function(t){try{return t.toTex()}catch(t){return o.log(t.name+", "+t.message),"Failed to convert expression to TeX"}},o.Calculator.prototype._valueToTex=function(t){try{return t=t.replace(this._thousandsSeparatorRegexp,""),this._mathJs.parse(this._preprocessExpression(t)).toTex()}catch(t){return o.log(t.name+", "+t.message),"Failed to convert expression value to TeX"}},o.Calculator.prototype._isValidValue=function(t){return void 0!==t&&"function"!=typeof t},o.Calculator.prototype._registerAliases=function(){var n=this;if(!this._mathJs.nCr){var t=this._mathJs.typed("nCr",{"BigNumber, BigNumber":function(t,e){return n._mathJs.combinations(t,e)}});t.toTex=n._mathJs.combinations.toTex,this._mathJs.import({nCr:t})}if(!this._mathJs.nPr){var e=this._mathJs.typed("nPr",{BigNumber:function(t){return n._mathJs.permutations(t)},"BigNumber, BigNumber":function(t,e){return n._mathJs.permutations(t,e)}});this._mathJs.import({nPr:e})}},o.Calculator.prototype._formatNumberAddDigitGrouping=function(t){return this._decimalNumberRegexp.test(t)?o.addThousandsSeparator(t,this._thousandsSeparator):t},o.Calculator.prototype._assignLastEvaluatedCommand=function(t,e){try{var n=t.clone(),i=new this._mathJs.expression.node.SymbolNode("$"),r=new this._mathJs.expression.node.AssignmentNode(i,n);r.compile(),r.eval(e)}catch(t){}}}(window.clc=window.clc||{}),(window.clc=window.clc||{}).CallbackResult=function(t){this.callback=t},(window.clc=window.clc||{}).EvaluatedExpression=function(){this.tex=null,this.result={raw:null,postprocessed:null}},function(t){t.MATH_JS_CONSTANTS=["e","E","i","Infinity","NaN","null","LN2","LN10","LOG2E","LOG10E","phi","pi","PI","tau","SQRT1_2","SQRT2","uninitialized","version"],t.MATH_JS_FUNCTIONS=["bignumber","boolean","chain","complex","createUnit","fraction","index","matrix","number","sparse","splitUnit","string","unit","compile","eval","help","parse","parser","derivative","lsolve","lup","lusolve","qr","simplify","slu","usolve","rationalize","abs","add","cbrt","ceil","cube","divide","dotDivide","dotMultiply","dotPow","exp","fix","floor","gcd","hypot","lcm","log","log10","mod","multiply","norm","nthRoot","pow","round","sign","sqrt","square","subtract","unaryMinus","unaryPlus","xgcd","bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift","bellNumbers","catalan","composition","stirlingS2","arg","conj","im","re","distance","intersect","and","not","or","xor","concat","cross","det","diag","dot","eye","filter","flatten","forEach","inv","kron","map","ones","partitionSelect","range","reshape","resize","size","sort","squeeze","subset","trace","transpose","zeros","combinations","factorial","gamma","kldivergence","multinomial","permutations","pickRandom","random","randomInt","compare","compareNatural","deepEqual","equal","larger","largerEq","smaller","smallerEq","unequal","setCartesian","setDifference","setDistinct","setIntersect","setIsSubset","setMultiplicity","setPowerset","setSize","setSymDifference","setUnion","erf","mad","max","mean","median","min","mode","prod","quantileSeq","std","sum","var","format","print","acos","acosh","acot","acoth","acsc","acsch","asec","asech","asin","asinh","atan","atan2","atanh","cos","cosh","cot","coth","csc","csch","sec","sech","sin","sinh","tan","tanh","to","clone","isInteger","isNaN","isNegative","isNumeric","isPositive","isPrime","isZero","typeof"],t.CLCALC_FUNCTIONS=["Color4b","color4b","color3b","color4f","colorU32","colorHsv","colorHsl","hsv","hsl","rgb","argb","argbf","base64Encode","base64Decode","toCodePoints","fromCodePoints","toUtf8","fromUtf8","md5","sha1","sha224","sha256","lerp","plot2d","hex","bin"],t.ALIASES=["nCr","nPr"],t.COMPLETION_KEYWORDS=["Infinity","NaN","null","LN2","LN10","LOG2E","LOG10E","phi","pi","PI","tau","SQRT1_2","SQRT2","fraction","derivative","lsolve","lup","lusolve","qr","simplify","slu","usolve","rationalize","abs","cbrt","ceil","cube","dotDivide","dotMultiply","dotPow","exp","fix","floor","gcd","hypot","lcm","log","log10","mod","norm","nthRoot","round","sign","sqrt","square","subtract","xgcd","bellNumbers","catalan","composition","stirlingS2","arg","conj","im","re","distance","intersect","and","not","or","xor","concat","cross","det","diag","dot","eye","filter","flatten","forEach","inv","kron","map","ones","partitionSelect","range","reshape","resize","size","sort","squeeze","subset","trace","transpose","zeros","combinations","factorial","gamma","kldivergence","multinomial","permutations","pickRandom","random","randomInt","setCartesian","setDifference","setDistinct","setIntersect","setIsSubset","setMultiplicity","setPowerset","setSize","setSymDifference","setUnion","erf","mad","max","mean","median","min","mode","prod","quantileSeq","std","sum","var","acos","acosh","acot","acoth","acsc","acsch","asec","asech","asin","asinh","atan","atan2","atanh","cos","cosh","cot","coth","csc","csch","sec","sech","sin","sinh","tan","tanh","to","help","clear"].concat(t.CLCALC_FUNCTIONS,t.ALIASES)}(window.clc=window.clc||{}),function(r){r.ColorExtension=function(t){this._mathJs=null,this._colorLiteral4bRegexp=new RegExp("#[A-Fa-f0-9]{8}","g"),this._colorLiteral43bRegexp=new RegExp("#[A-Fa-f0-9]{6,8}","g"),t&&(this._visibleTooltipIds=[],this._initializeColorTooltips())},r.ColorExtension.prototype.extend=function(t){this._mathJs=t,this._mathJs.typed.addType({name:"Color",test:function(t){return t&&t instanceof r.Color}}),this._registerFunction("Color4b","BigNumber, BigNumber, BigNumber, BigNumber",function(t,e,n,i){return r.Color.from4b(t,e,n,i)},!1,function(t){return"\\mathtt{\\"+r.Color.from4b(parseInt(t.args[0].value),parseInt(t.args[1].value),parseInt(t.args[2].value),parseInt(t.args[3].value)).toString()+"}"}),this._registerFunction("color4b","BigNumber, BigNumber, BigNumber, BigNumber",function(t,e,n,i){return r.Color.from4b(t,e,n,i)}),this._registerFunction("color3b","BigNumber, BigNumber, BigNumber",function(t,e,n){return r.Color.from4b(255,t,e,n)}),this._registerFunction("color4f","BigNumber, BigNumber, BigNumber, BigNumber",function(t,e,n,i){return r.Color.from4f(t,e,n,i)}),this._registerFunction("colorU32","BigNumber",function(t){return r.Color.fromU32(t)}),this._registerFunction("colorHsv","BigNumber, BigNumber, BigNumber",function(t,e,n){return r.Color.fromHsv(t,e,n)}),this._registerFunction("colorHsl","BigNumber, BigNumber, BigNumber",function(t,e,n){return r.Color.fromHsl(t,e,n)}),this._registerFunction("hsv","Color",function(t){return t.toHsv()},!0),this._registerFunction("hsl","Color",function(t){return t.toHsl()},!0),this._registerFunction("rgb","Color",function(t){return t.toArgb().splice(1)},!0),this._registerFunction("argb","Color",function(t){return t.toArgb()},!0),this._registerFunction("argbf","Color",function(t){return t.toArgbf()},!0),this._registerFunction("add","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t+e})}),this._registerFunction("subtract","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t-e})}),this._registerFunction("multiply","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t*e})}),this._registerFunction("multiply","Color, BigNumber",function(t,e){return t.op([e,e,e,e],function(t,e){return t*e})}),this._registerFunction("multiply","BigNumber, Color",function(t,e){return e.op([t,t,t,t],function(t,e){return t*e})}),this._registerFunction("divide","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t/e})}),this._registerFunction("divide","Color, BigNumber",function(t,e){return t.op([e,e,e,e],function(t,e){return t/e})})},r.ColorExtension.prototype.preprocess=function(t){return t.replace(this._colorLiteral43bRegexp,function(t){if(9!==t.length&&7!==t.length)throw new Error("Invalid color literal: "+t);var e=t.substr(9===t.length?3:1),n=e.substr(0,2),i=e.substr(2,2),r=e.substr(4,2),o=9===t.length?t.substr(1,2):"FF";return"Color4b("+parseInt(o,16)+", "+parseInt(n,16)+", "+parseInt(i,16)+", "+parseInt(r,16)+")"})},r.ColorExtension.prototype.postprocess=function(t){var e=this;return t.replace(this._colorLiteral4bRegexp,function(t){return e._generateColorSampleHtml(t)})},r.ColorExtension.prototype._generateColorSampleHtml=function(t){var e="#"+t.substr(3),n=parseInt(t.substr(1,2),16)/255;return'<div class="color-sample" data-color="'+t+'"><div style="background-color: '+e+"; opacity: "+n+'">&nbsp;</div></div>'},r.ColorExtension.prototype._initializeColorTooltips=function(){var r=this;$("body").tooltip({placement:"top",container:"body",selector:".color-sample",trigger:"click",template:'<div class="tooltip color-sample-tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:function(){return $(this).data("color")}}),$(document).on("shown.bs.tooltip",".color-sample",function(t){r._visibleTooltipIds.push($(t.target).attr("aria-describedby"))}),$(document).on("click",function(t){if(r._visibleTooltipIds.length){var e=$(t.target),n=$(t.target).parent();if($(".color-sample-tooltip").has(t.target).length)return;if(e.hasClass("color-sample")||n&&n.length&&n.hasClass("color-sample"))return;for(var i=0;i<r._visibleTooltipIds.length;++i)$("#"+r._visibleTooltipIds[i]).tooltip("hide");r._visibleTooltipIds=[]}}),$(document).on("hidden.bs.tooltip",function(t){$(t.target).data("bs.tooltip").inState.click=!1})},r.ColorExtension.prototype._registerFunction=function(t,e,n,i,r){try{var o={},s={},a=r||null,l=this;o[e]=n,i&&(o["Array | Matrix"]=function(t){return l._mathJs.map(t,n)}),s[t]=this._mathJs.typed(t,o),a&&(s[t].toTex=a),this._mathJs.import(s)}catch(t){if(!t.data||!t.data.signature)throw t}}}(window.clc=window.clc||{}),function(c){function r(t){var e=c.mathJsToValidNumber(t);if(e<0||1<e)throw new Error("Must be floating point number in range [0, 1]");return Math.round(255*e)}c.Color=function(t){this._argb=t>>>0},c.Color.from4b=function(t,e,n,i){return new c.Color(c.toUint8(t)<<24|c.toUint8(e)<<16|c.toUint8(n)<<8|c.toUint8(i))},c.Color.from4f=function(t,e,n,i){return new c.Color.from4b(r(t),r(e),r(n),r(i))},c.Color.fromU32=function(t){return new c.Color(c.toUint32(t))},c.Color.fromHsv=function(t,e,n){if(t=c.toUint32(t),e=c.toUint32(e),n=c.toUint32(n),360<=t)throw new Error("Hue must be in range [0, 360)");if(100<e)throw new Error("Saturation must be in range [0, 100]");if(100<n)throw new Error("Value must be in range [0, 100]");var i,r=(n/=100)*(e/=100),o=r*(1-Math.abs(t/60%2-1)),s=n-r;return i=t<60?[r,o,0]:t<120?[o,r,0]:t<180?[0,r,o]:t<240?[0,o,r]:t<300?[o,0,r]:[r,0,o],c.Color.from4b(255,Math.round(255*(i[0]+s)),Math.round(255*(i[1]+s)),Math.round(255*(i[2]+s)))},c.Color.fromHsl=function(t,e,n){if(t=c.toUint32(t),e=c.toUint32(e),n=c.toUint32(n),360<=t)throw new Error("Hue must be in range [0, 360)");if(100<e)throw new Error("Saturation must be in range [0, 100]");if(100<n)throw new Error("Lightness must be in range [0, 100]");e/=100,n/=100;var i,r=(1-Math.abs(2*n-1))*e,o=r*(1-Math.abs(t/60%2-1)),s=n-.5*r;return i=t<60?[r,o,0]:t<120?[o,r,0]:t<180?[0,r,o]:t<240?[0,o,r]:t<300?[o,0,r]:[r,0,o],c.Color.from4b(255,Math.round(255*(i[0]+s)),Math.round(255*(i[1]+s)),Math.round(255*(i[2]+s)))},c.Color.prototype.get=function(t){return this._argb>>>24-8*t&255},c.Color.prototype.toString=function(){return"#"+(c.padLeft(this.get(0).toString(16),"0",2)+c.padLeft(this.get(1).toString(16),"0",2)+c.padLeft(this.get(2).toString(16),"0",2)+c.padLeft(this.get(3).toString(16),"0",2)).toUpperCase()},c.Color.prototype.op=function(t,e){var n,i=this.toArgbf();for(n=0;n<4;++n)i[n]=c.clamp(e(i[n],c.mathJsToValidNumber(t[n])),0,1);return c.Color.from4f(i[0],i[1],i[2],i[3])},c.Color.prototype.toHsv=function(){var t,e,n,i=this.get(1)/255,r=this.get(2)/255,o=this.get(3)/255,s=Math.max(i,r,o),a=s-Math.min(i,r,o);return 0==a?t=0:s===i?t=60*c.mod((r-o)/a,6):s===r?t=60*((o-i)/a+2):s===o&&(t=60*((i-r)/a+4)),e=0==s?0:a/s,n=s,[Math.round(t),Math.round(100*e),Math.round(100*n)]},c.Color.prototype.toHsl=function(){var t,e,n,i=this.get(1)/255,r=this.get(2)/255,o=this.get(3)/255,s=Math.max(i,r,o),a=Math.min(i,r,o),l=s-a;return 0==l?t=0:s===i?t=60*c.mod((r-o)/l,6):s===r?t=60*((o-i)/l+2):s===o&&(t=60*((i-r)/l+4)),n=(s+a)/2,e=0==l?0:l/(1-Math.abs(2*n-1)),[Math.round(t),Math.round(100*e),Math.round(100*n)]},c.Color.prototype.toArgb=function(){return[this.get(0),this.get(1),this.get(2),this.get(3)]},c.Color.prototype.toArgbf=function(){return[this.get(0)/255,this.get(1)/255,this.get(2)/255,this.get(3)/255]}}(window.clc=window.clc||{}),function(e){e.Base64EncodingExtension=function(){this._mathJs=null},e.Base64EncodingExtension.prototype.extend=function(t){var e=this;if(this._mathJs=t,!this._mathJs.base64Encode){var n=this._mathJs.typed("base64Encode",{Array:function(t){return e._functionBase64Encode(t)}});this._mathJs.import({base64Encode:n})}if(!this._mathJs.base64Decode){var i=this._mathJs.typed("base64Decode",{string:function(t){return e._functionBase64Decode(t)}});this._mathJs.import({base64Decode:i})}},e.Base64EncodingExtension.prototype._functionBase64Encode=function(t){return null==t?"":e.base64Encode(t)},e.Base64EncodingExtension.prototype._functionBase64Decode=function(t){return null==t?[]:e.base64Decode(t)}}(window.clc=window.clc||{}),function(e){e.UnicodeEncodingExtension=function(){this._mathJs=null},e.UnicodeEncodingExtension.prototype.extend=function(t){var e=this;if(this._mathJs=t,!this._mathJs.toCodePoints){var n=this._mathJs.typed("toCodePoints",{string:function(t){return e._functionToCodePoints(t)}});this._mathJs.import({toCodePoints:n})}if(!this._mathJs.fromCodePoints){var i=this._mathJs.typed("fromCodePoints",{Array:function(t){return e._functionFromCodePoints(t)}});this._mathJs.import({fromCodePoints:i})}if(!this._mathJs.toUtf8){var r=this._mathJs.typed("toUtf8",{string:function(t){return e._functionToUtf8(t)}});this._mathJs.import({toUtf8:r})}if(!this._mathJs.fromUtf8){var o=this._mathJs.typed("fromUtf8",{Array:function(t){return e._functionFromUtf8(t)}});this._mathJs.import({fromUtf8:o})}},e.UnicodeEncodingExtension.prototype._functionToCodePoints=function(t){return null==t||0===t.length?[]:e.stringToUnicodeCodePointList(t)},e.UnicodeEncodingExtension.prototype._functionFromCodePoints=function(t){return null==t||0===t.length?"":e.stringFromUnicodeCodePointList(t)},e.UnicodeEncodingExtension.prototype._functionToUtf8=function(t){return null==t||0===t.length?[]:e.stringToUtf8Array(t)},e.UnicodeEncodingExtension.prototype._functionFromUtf8=function(t){return null==t||0===t.length?"":e.stringFromUtf8Array(t)}}(window.clc=window.clc||{}),function(e){e.HashesExtension=function(){this._mathJs=null},e.HashesExtension.prototype.extend=function(t){var e=this;if(this._mathJs=t,!this._mathJs.md5){var n=this._mathJs.typed("md5",{Array:function(t){return e._functionMd5(t)}});this._mathJs.import({md5:n})}if(!this._mathJs.sha1){var i=this._mathJs.typed("sha1",{Array:function(t){return e._functionSha1(t)}});this._mathJs.import({sha1:i})}if(!this._mathJs.sha224){var r=this._mathJs.typed("sha224",{Array:function(t){return e._functionSha224(t)}});this._mathJs.import({sha224:r})}if(!this._mathJs.sha256){var o=this._mathJs.typed("sha256",{Array:function(t){return e._functionSha256(t)}});this._mathJs.import({sha256:o})}},e.HashesExtension.prototype._functionMd5=function(t){if(null==t)throw new Error("Invalid argument");return e.md5(t)},e.HashesExtension.prototype._functionSha1=function(t){if(null==t)throw new Error("Invalid argument");return e.sha1(t)},e.HashesExtension.prototype._functionSha224=function(t){if(null==t)throw new Error("Invalid argument");return e.sha224(t)},e.HashesExtension.prototype._functionSha256=function(t){if(null==t)throw new Error("Invalid argument");return e.sha256(t)}}(window.clc=window.clc||{}),function(b){var f,m,N=16777215;function x(t,e){return(t<<e|t>>>32-e)>>>0}function T(t,e){return(t>>>e|t<<32-e)>>>0}function _(t){return((4278190080&t)>>>24|(16711680&t)>>>8|(65280&t)<<8|(255&t)<<24)>>>0}function v(t,e,n){return(b.toUint8(t[e+4*n+3])<<24|b.toUint8(t[e+4*n+2])<<16|b.toUint8(t[e+4*n+1])<<8|b.toUint8(t[e+4*n]))>>>0}function F(t,e,n){return _(v(t,e,n))}function D(t,e){return 0===t?e:1+(t-1|63)}function J(t){var e,n=[];for(e=0;e<t.length;++e)n.push(b.toUint8(t[e]));return n}function B(t,e,n){for(var i=0;i<n;++i)t.push(e)}function H(t,e,n,i){if(!i){var r=e;e=_(n),n=_(r)}for(var o=0;o<8;++o)o<4?t.push(n>>>8*o&255):t.push(e>>>8*(o-4)&255)}f=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],m=[3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745],b.md5=function(t){if(t.length>N)throw new Error("Array is too big. Maximum allowed size: "+N);var e=J(t),n=t.length;e.push(128),B(e,0,D(n+9)-n-9),H(e,0,8*n,!0);for(var i=1732584193,r=4023233417,o=2562383102,s=271733878,a=0;a<e.length;a+=64){for(var l=i,c=r,h=o,u=s,p=0;p<64;++p){var g,d;p<16?(g=c&h|~c&u,d=p):p<32?(g=u&c|~u&h,d=(5*p+1)%16):p<48?(g=c^h^u,d=(3*p+5)%16):(g=h^(c|~u),d=7*p%16),g=g+l+m[p]+v(e,a,d)>>>0,l=u,u=h,c=(h=c)+x(g,f[p])>>>0}i=i+l>>>0,r=r+c>>>0,o=o+h>>>0,s=s+u>>>0}return b.padLeft(_(i).toString(16),"0",8)+b.padLeft(_(r).toString(16),"0",8)+b.padLeft(_(o).toString(16),"0",8)+b.padLeft(_(s).toString(16),"0",8)},b.sha1=function(t){if(t.length>N)throw new Error("Array is too big. Maximum allowed size: "+N);var e=J(t),n=t.length;e.push(128),B(e,0,D(n+9)-n-9),H(e,0,8*n,!1);for(var i=1732584193,r=4023233417,o=2562383102,s=271733878,a=3285377520,l=0;l<e.length;l+=64){var c,h=i,u=r,p=o,g=s,d=a,f=[];for(c=0;c<80;++c)c<16?f.push(F(e,l,c)):f.push(x(f[c-3]^f[c-8]^f[c-14]^f[c-16],1));for(c=0;c<80;++c){var m,_;c<20?(m=u&p|~u&g,_=1518500249):c<40?(m=u^p^g,_=1859775393):c<60?(m=u&p|u&g|p&g,_=2400959708):(m=u^p^g,_=3395469782);var v=x(h,5)+m+d+_+f[c]>>>0;d=g,g=p,p=x(u,30),u=h,h=v}i=i+h>>>0,r=r+u>>>0,o=o+p>>>0,s=s+g>>>0,a=a+d>>>0}return b.padLeft(i.toString(16),"0",8)+b.padLeft(r.toString(16),"0",8)+b.padLeft(o.toString(16),"0",8)+b.padLeft(s.toString(16),"0",8)+b.padLeft(a.toString(16),"0",8)},function(){var n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function i(t,e,n,i,r,o,s,a,l,c){if(t.length>N)throw new Error("Array is too big. Maximum allowed size: "+N);var h=J(t),u=t.length;h.push(128),B(h,0,D(u+9)-u-9),H(h,0,8*u,!1);for(var p=0;p<h.length;p+=64){var g,d=n,f=i,m=r,_=o,v=s,b=a,x=l,y=c,w=[];for(g=0;g<64;++g)if(g<16)w.push(F(h,p,g));else{var E=T(w[g-15],7)^T(w[g-15],18)^w[g-15]>>>3,S=T(w[g-2],17)^T(w[g-2],19)^w[g-2]>>>10;w.push(w[g-16]+E+w[g-7]+S>>>0)}for(g=0;g<64;++g){var C=T(v,6)^T(v,11)^T(v,25),P=T(d,2)^T(d,13)^T(d,22),L=d&f^d&m^f&m,k=y+C+(v&b^~v&x)+e[g]+w[g]>>>0;y=x,x=b,b=v,v=_+k>>>0,_=m,m=f,f=d,d=k+(P+L>>>0)>>>0}n=n+d>>>0,i=i+f>>>0,r=r+m>>>0,o=o+_>>>0,s=s+v>>>0,a=a+b>>>0,l=l+x>>>0,c=c+y>>>0}return[n,i,r,o,s,a,l,c]}b.sha224=function(t){var e=i(t,n,3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428);return b.padLeft(e[0].toString(16),"0",8)+b.padLeft(e[1].toString(16),"0",8)+b.padLeft(e[2].toString(16),"0",8)+b.padLeft(e[3].toString(16),"0",8)+b.padLeft(e[4].toString(16),"0",8)+b.padLeft(e[5].toString(16),"0",8)+b.padLeft(e[6].toString(16),"0",8)},b.sha256=function(t){var e=i(t,n,1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225);return b.padLeft(e[0].toString(16),"0",8)+b.padLeft(e[1].toString(16),"0",8)+b.padLeft(e[2].toString(16),"0",8)+b.padLeft(e[3].toString(16),"0",8)+b.padLeft(e[4].toString(16),"0",8)+b.padLeft(e[5].toString(16),"0",8)+b.padLeft(e[6].toString(16),"0",8)+b.padLeft(e[7].toString(16),"0",8)}}()}(window.clc=window.clc||{}),function(s){s.LerpExtension=function(){this._mathJs=null},s.LerpExtension.prototype.extend=function(t){var i=this;if(this._mathJs=t,!this._mathJs.lerp){var e=this._mathJs.typed("lerp",{"BigNumber, BigNumber, BigNumber":function(t,e,n){return i._functionLerpNumber(t,e,n)},"Color, Color, BigNumber":function(t,e,n){return i._functionLerpColor(t,e,n)}});this._mathJs.import({lerp:e})}},s.LerpExtension.prototype._functionLerpNumber=function(t,e,n){if(n.lessThan(0)||n.greaterThan(1))throw new Error("Interpolation coefficient must be in range [0, 1]");var i=new this._mathJs.bignumber(1).minus(n).times(t),r=n.times(e);return i.plus(r)},s.LerpExtension.prototype._functionLerpColor=function(t,e,n){if(n.lessThan(0)||n.greaterThan(1))throw new Error("Interpolation coefficient must be in range [0, 1]");var i=s.mathJsToValidNumber(n),r=t.op([1-i,1-i,1-i,1-i],function(t,e){return t*e}),o=e.op([i,i,i,i],function(t,e){return t*e});return r.op(o.toArgbf(),function(t,e){return t+e})}}(window.clc=window.clc||{}),function(u){u.FunctionPlot2D=function(t,e,n,i,r,o){this.id=u.randomId("plot2d-"),this._mathJs=o;var s=r.totalWidth-r.axisYWidth,a=r.totalHeight-r.axisXHeight-r.legendHeight,l=Math.abs(s/(n[1]-n[0])),c=s/2-.5*(n[0]+n[1])*l;this._graphParameters={size:{width:s,height:a},transform:{x:{scale:l,offset:c},y:{scale:-l,offset:a/2}},scale:{x:{begin:0,step:0},y:{begin:0,step:0}},offset:{x:r.axisYWidth,y:r.legendHeight},state:{isDragging:!1,beginDragX:0,beginDragY:0}},this._function={expression:t,variable:e,domain:n,scope:i},this._attributes={svg:{id:this.id,class:"function-plot2d",width:r.totalWidth,height:r.totalHeight},"svg.legend.text":{class:"function-plot2d-legend","text-anchor":"end",x:r.totalWidth,y:15},"svg.canvas.g":{class:"function-plot2d-canvas",transform:"translate(0, "+r.legendHeight+")"},"svg.canvas.defs.clipPath":{id:"clip-path-"+this.id},"svg.canvas.defs.clipPath.rect":{width:this._graphParameters.size.width,height:this._graphParameters.size.height},"svg.canvas.axisX.g":{class:"function-plot2d-axis-x",transform:"translate("+r.axisYWidth+", "+this._graphParameters.size.height+")"},"svg.canvas.axisX.g.path":{"shape-rendering":"crispedges",d:"M0,0H"+this._graphParameters.size.width},"svg.canvas.axisX.g.scale.g.text":{style:"text-anchor: middle;",y:"1.5em"},"svg.canvas.axisX.g.scale.g.line":{x1:0,y1:0,x2:0,y2:5,"shape-rendering":"crispedges","stroke-width":1},"svg.canvas.axisY.g":{class:"function-plot2d-axis-y",transform:"translate("+r.axisYWidth+", 0)"},"svg.canvas.axisY.g.path":{"shape-rendering":"crispedges",d:"M0,0V"+this._graphParameters.size.height},"svg.canvas.axisY.g.scale.g.text":{style:"text-anchor: end;",x:"-0.5em",dy:"0.31em"},"svg.canvas.axisY.g.scale.g.line":{x1:0,y1:0,x2:-5,y2:0,"shape-rendering":"crispedges","stroke-width":1},"svg.canvas.eventGrabArea.rect":{class:"function-plot2d-event-grab",width:this._graphParameters.size.width,height:this._graphParameters.size.height,fill:"none",x:r.axisYWidth},"svg.canvas.graph.g":{transform:"translate("+r.axisYWidth+", 0)","clip-path":"url(#clip-path-"+this.id+")"},"svg.canvas.graph.originX.path":{class:"function-plot2d-origin-x","stroke-width":"1","shape-rendering":"crispedges",d:"M0,"+this._toScreenY(0)+"H"+this._graphParameters.size.width},"svg.canvas.graph.originY.path":{class:"function-plot2d-origin-y","stroke-width":"1","shape-rendering":"crispedges",d:"M"+this._toScreenX(0)+",0V"+this._graphParameters.size.height},"svg.canvas.graph.data.path":{class:"function-plot2d-graph","stroke-width":1,fill:"none","stroke-linecap":"round",d:""}},this._xmlns="http://www.w3.org/2000/svg",this._elements={},this.update()},u.FunctionPlot2D.isEventConsumed=function(t){return 1===$(t.target).closest(".function-plot2d-event-grab").length},u.FunctionPlot2D.prototype.svg=function(){return this._elements={},u.htmlTag("svg",this._attributes.svg,[this._legend(),this._canvas()])},u.FunctionPlot2D.prototype.update=function(){if(!this._elements.svg){var t=$("#"+this.id);t.length&&(this._elements.svg=t.eq(0),this._elements.axis={x:this._elements.svg.find("."+this._attributes["svg.canvas.axisX.g"].class).eq(0),y:this._elements.svg.find("."+this._attributes["svg.canvas.axisY.g"].class).eq(0)},this._elements.origin={x:this._elements.svg.find("."+this._attributes["svg.canvas.graph.originX.path"].class).eq(0),y:this._elements.svg.find("."+this._attributes["svg.canvas.graph.originY.path"].class).eq(0)},this._elements.graph=this._elements.svg.find("."+this._attributes["svg.canvas.graph.data.path"].class).eq(0))}this._updateAxisScale(),this._updateOrigin(),this._updateFunctionData()},u.FunctionPlot2D.prototype.setPointerCoordinates=function(t,e){this._elements.legend||(this._elements.legend=$("#"+this.id+" ."+this._attributes["svg.legend.text"].class));var n=1/this._graphParameters.transform.x.scale,i=Math.floor(Math.log10(n)),r=Math.abs(u.clamp(i-1,-15,0)),o=(+this._fromScreenX(t-this._graphParameters.offset.x).toFixed(r)).toString(),s=(+this._fromScreenY(e-this._graphParameters.offset.y).toFixed(r)).toString();this._elements.legend.text("X: "+o+", Y: "+s)},u.FunctionPlot2D.prototype.clearLegend=function(){this._elements.legend||(this._elements.legend=$("#"+this.id+" ."+this._attributes["svg.legend.text"].class)),this._elements.legend.text("")},u.FunctionPlot2D.prototype.zoom=function(t){var e=0<t?1.1:.9;this._graphParameters.transform.x.scale*=e,this._graphParameters.transform.y.scale*=e,this.update()},u.FunctionPlot2D.prototype.beginDrag=function(t,e){this._graphParameters.state.isDragging=!0,this._graphParameters.state.beginDragX=t,this._graphParameters.state.beginDragY=e},u.FunctionPlot2D.prototype.endDrag=function(){this._graphParameters.state.isDragging=!1},u.FunctionPlot2D.prototype.onDrag=function(t,e){this._graphParameters.state.isDragging&&(this._graphParameters.transform.x.offset+=t-this._graphParameters.state.beginDragX,this._graphParameters.transform.y.offset+=e-this._graphParameters.state.beginDragY,this._graphParameters.state.beginDragX=t,this._graphParameters.state.beginDragY=e,this.update())},u.FunctionPlot2D.prototype._legend=function(){return u.htmlTag("text",this._attributes["svg.legend.text"])},u.FunctionPlot2D.prototype._canvas=function(){return u.htmlTag("g",this._attributes["svg.canvas.g"],[this._defs(),this._axisX(),this._axisY(),this._graph(),this._eventGrabArea()])},u.FunctionPlot2D.prototype._defs=function(){return u.htmlTag("defs",null,u.htmlTag("clipPath",this._attributes["svg.canvas.defs.clipPath"],u.htmlTag("rect",this._attributes["svg.canvas.defs.clipPath.rect"])))},u.FunctionPlot2D.prototype._axisX=function(){var t=this._axisXScale(!1);return t.push(u.htmlTag("path",this._attributes["svg.canvas.axisX.g.path"])),u.htmlTag("g",this._attributes["svg.canvas.axisX.g"],t)},u.FunctionPlot2D.prototype._axisY=function(){var t=this._axisYScale(!1);return t.push(u.htmlTag("path",this._attributes["svg.canvas.axisY.g.path"])),u.htmlTag("g",this._attributes["svg.canvas.axisY.g"],t)},u.FunctionPlot2D.prototype._axisXScale=function(t){for(var i=this,e=[],n=t?function(t,e,n){return u.domElement(i._xmlns,t,e,n)}:u.htmlTag,r=this._boundsX(),o=this._graphParameters.scale.x.begin;o<=r[1];o+=this._graphParameters.scale.x.step){var s=n("g",{transform:"translate("+this._toScreenX(o)+", 0)"},[n("text",this._attributes["svg.canvas.axisX.g.scale.g.text"],this._prettyPrintNumber(o)),n("line",this._attributes["svg.canvas.axisX.g.scale.g.line"])]);e.push(s)}return e},u.FunctionPlot2D.prototype._axisYScale=function(t){for(var i=this,e=[],n=t?function(t,e,n){return u.domElement(i._xmlns,t,e,n)}:u.htmlTag,r=this._boundsY(),o=this._graphParameters.scale.y.begin;o<=r[1];o+=this._graphParameters.scale.y.step){var s=n("g",{transform:"translate(0, "+this._toScreenY(o)+")"},[n("text",this._attributes["svg.canvas.axisY.g.scale.g.text"],this._prettyPrintNumber(o)),n("line",this._attributes["svg.canvas.axisY.g.scale.g.line"])]);e.push(s)}return e},u.FunctionPlot2D.prototype._graph=function(){return this._attributes["svg.canvas.graph.data.path"].d=this._data,u.htmlTag("g",this._attributes["svg.canvas.graph.g"],[this._origin(),u.htmlTag("path",this._attributes["svg.canvas.graph.data.path"])])},u.FunctionPlot2D.prototype._origin=function(){return u.htmlTag("path",this._attributes["svg.canvas.graph.originX.path"])+u.htmlTag("path",this._attributes["svg.canvas.graph.originY.path"])},u.FunctionPlot2D.prototype._updateOrigin=function(){this._elements.origin&&(this._elements.origin.x.attr("d","M0,"+this._toScreenY(0)+"H"+this._graphParameters.size.width),this._elements.origin.y.attr("d","M"+this._toScreenX(0)+",0V"+this._graphParameters.size.height))},u.FunctionPlot2D.prototype._eventGrabArea=function(){return u.htmlTag("rect",this._attributes["svg.canvas.eventGrabArea.rect"])},u.FunctionPlot2D.prototype._updateFunctionData=function(){this._data=this._sampleFunctionData(),this._elements.graph&&this._elements.graph.attr("d",this._data)},u.FunctionPlot2D.prototype._sampleFunctionData=function(){for(var t,e,n,i,r=1/this._graphParameters.transform.x.scale,o=1073741824,s=this._boundsX(),a="M",l="",c=s[0];c<=s[1];c+=r)if(this._function.scope[this._function.variable]=this._mathJs.bignumber(c),e=!(null==(t=this._function.expression.eval(this._function.scope))),n="number"==typeof t||t instanceof Number,i=!!t.toNumber,e&&(n&&isFinite(t)||i&&t.isFinite())){var h=u.clamp(this._toScreenY(i?t.toNumber():t),-o,o);l+=a+u.round1Dec(this._toScreenX(c))+", "+u.round1Dec(h),a="L"}else a="M";return l},u.FunctionPlot2D.prototype._updateAxisScale=function(){if(this._graphParameters.scale.x=this._calculateScaleParameters(this._boundsX()[0],this._graphParameters.size.width/this._graphParameters.transform.x.scale),this._graphParameters.scale.y=this._calculateScaleParameters(this._boundsY()[0],-this._graphParameters.size.height/this._graphParameters.transform.y.scale),this._elements.axis){this._elements.axis.x.find("g").remove();var t,e=this._axisXScale(!0);for(t=0;t<e.length;++t)this._elements.axis.x.append(e[t]);for(this._elements.axis.y.find("g").remove(),e=this._axisYScale(!0),t=0;t<e.length;++t)this._elements.axis.y.append(e[t])}},u.FunctionPlot2D.prototype._calculateScaleParameters=function(t,e){var n=Math.pow(10,Math.floor(Math.log10(e)+.2)),i=e/n,r=(i<=1.5?1:i<=3?2:5)*n/10,o=Math.ceil(t/r);return{begin:1<=r?o*r:o*(10/n*r)/(10/n),step:r}},u.FunctionPlot2D.prototype._prettyPrintNumber=function(t){return 0==t?"0":(+t.toFixed(14)).toString()},u.FunctionPlot2D.prototype._toScreenX=function(t){return t*this._graphParameters.transform.x.scale+this._graphParameters.transform.x.offset},u.FunctionPlot2D.prototype._toScreenY=function(t){return t*this._graphParameters.transform.y.scale+this._graphParameters.transform.y.offset},u.FunctionPlot2D.prototype._fromScreenX=function(t){return(t-this._graphParameters.transform.x.offset)/this._graphParameters.transform.x.scale},u.FunctionPlot2D.prototype._fromScreenY=function(t){return(t-this._graphParameters.transform.y.offset)/this._graphParameters.transform.y.scale},u.FunctionPlot2D.prototype._boundsX=function(){return[this._fromScreenX(0),this._fromScreenX(this._graphParameters.size.width)]},u.FunctionPlot2D.prototype._boundsY=function(){return[this._fromScreenY(this._graphParameters.size.height),this._fromScreenY(0)]}}(window.clc=window.clc||{}),function(i){i.PlotExtension=function(){this._mathJs=null,this._plots={},this._defaultPlotParameters={totalWidth:500,totalHeight:350,legendHeight:20,axisXHeight:25,axisYWidth:50},this._initializeEventListeners()},i.PlotExtension.prototype.extend=function(t){var i=this;if(this._mathJs=t,!this._mathJs.plot2d){var e=function(t,e,n){return i._functionPlot2D(t,n)};e.rawArgs=!0,this._mathJs.import({plot2d:e})}},i.PlotExtension.prototype._initializeEventListeners=function(){var r=this;function o(t){return $(t).parent().parent()}$(document).on({mousemove:function(t){var e=o(t.target),n=r._plots[e.attr("id")],i=e.offset();n.setPointerCoordinates(Math.round(t.pageX-i.left),Math.round(t.pageY-i.top)),n.onDrag(t.clientX,t.clientY),t.preventDefault()},mouseout:function(t){var e=r._plots[o(t.target).attr("id")];e.clearLegend(),e.endDrag()},mousedown:function(t){r._plots[o(t.target).attr("id")].beginDrag(t.clientX,t.clientY),t.preventDefault()},mouseup:function(t){r._plots[o(t.target).attr("id")].endDrag(),t.preventDefault()},mousewheel:function(t){r._plots[o(t.target).attr("id")].zoom(t.deltaY)}},".function-plot2d-event-grab")},i.PlotExtension.prototype._functionPlot2D=function(t,e){var arguments=this._getPlot2dArguments(t,e),n=new i.FunctionPlot2D(arguments.expression,arguments.variable,arguments.domain,e,this._defaultPlotParameters,this._mathJs);return this._plots[n.id]=n,new i.CallbackResult(function(){return n.svg()})},i.PlotExtension.prototype._getPlot2dArguments=function(t,e){var n={};if(!t||3!==t.length)throw new Error("'plot2d' function expects 3 arguments: function expression, argument variable, argument domain interval");if("FunctionNode"!==t[0].type&&"OperatorNode"!==t[0].type&&"SymbolNode"!==t[0].type&&"ConstantNode"!==t[1].type)throw new Error("First argument must be an expression");if("SymbolNode"!==t[1].type)throw new Error("Second argument must be an independent variable name");if("ArrayNode"!==t[2].type||2!==t[2].items.length)throw new Error("Third argument must be an interval representing domain of a function");if(n.domain=[i.mathJsToValidNumber(t[2].items[0].eval(e)),i.mathJsToValidNumber(t[2].items[1].eval(e))],n.domain[0]>=n.domain[1])throw new Error("Domain interval must be in form [min, max] where min < max");return n.domain[0]=n.domain[0]-Math.abs(.1*n.domain[0]),n.domain[1]=n.domain[1]+Math.abs(.1*n.domain[1]),n.expression=t[0].compile(),n.variable=t[1].name,n}}(window.clc=window.clc||{}),function(t){t.HexBinLiteralsExtension=function(){this._mathJs=null,this._literalRegexp=new RegExp("(?:^|[^A-Za-z0-9_\\\\$\\.])((0[bB][10\\.]+)|(0[xX][A-Fa-f0-9\\.]+))\\b","g")},t.HexBinLiteralsExtension.prototype.extend=function(t){var e=this;if(this._mathJs=t,!this._mathJs.hex){var n=this._mathJs.typed("hex",{"Array | Matrix":function(t){return e._mathJs.map(t,function(t){return e._functionHex(t)})},BigNumber:function(t){return e._functionHex(t)}});this._mathJs.import({hex:n})}if(!this._mathJs.bin){var i=this._mathJs.typed("bin",{"Array | Matrix":function(t){return e._mathJs.map(t,function(t){return e._functionBin(t)})},BigNumber:function(t){return e._functionBin(t)}});this._mathJs.import({bin:i})}},t.HexBinLiteralsExtension.prototype.preprocess=function(t){var i=this;return t.replace(this._literalRegexp,function(t,e){if(e&&2<e.length){var n=i._mathJs.bignumber(e);return t.length===e.length?n.toString():t[0]+n.toString()}})},t.HexBinLiteralsExtension.prototype._functionHex=function(t){return"number"==typeof t?"0x"+t.toString(16):t.toHex()},t.HexBinLiteralsExtension.prototype._functionBin=function(t){return"number"==typeof t?"0b"+t.toString(2):t.toBinary()}}(window.clc=window.clc||{}),function(i){i.LinksHandler=function(t){this._getExpressionCallback=t||null,this._isLogLinkButtonEnabled=!0,this._elements={logLinkButton:$("#generate-log-link-button")};var e=this._isCopyingToClipboardSupported();this._popoverTemplateId=e?"#template-create-link-popover":"#template-create-link-popover-no-copy",this._expressionLinkButtonHtml=$("#template-create-expression-link-button").html(),t&&(this._initializeLogLinkUi(),this._initializeExpressionLinkUi(),$(document).on("hidden.bs.popover",function(t){$(t.target).data("bs.popover").inState.click=!1}),e&&$(document).on("click",".copy-link-to-clipboard",function(t){try{if($(t.target).parents(".input-group").find("input").select(),!document.execCommand("copy"))throw new Error('Failed to execute execCommand("copy")')}catch(t){i.log("Failed to copy to clipboard: "+t.name+", "+t.message)}}))},i.LinksHandler.prototype.setLogLinkButtonEnabled=function(t){this._isLogLinkButtonEnabled!==t&&(this._isLogLinkButtonEnabled=t,this._elements.logLinkButton.toggleClass("disabled",!this._isLogLinkButtonEnabled))},i.LinksHandler.prototype.getExpressionsListFromUrl=function(){var t=this._getExpressonsListFromUrl();if(null===t)return null;try{return this._deserializeExpressionsList(t)}catch(t){return i.log(t.name+", "+t.message),null}},i.LinksHandler.prototype.injectExpressionLinkButton=function(t){t.append(this._expressionLinkButtonHtml)},i.LinksHandler.prototype._isCopyingToClipboardSupported=function(){try{return!!document.queryCommandSupported("copy")}catch(t){return!1}},i.LinksHandler.prototype._initializeLogLinkUi=function(){var i=this;this._elements.logLinkButton.popover({placement:function(){return $(window).width()<768?"bottom":"right"},container:"body",html:!0,title:"Link Generated",trigger:"manual",content:function(){return $(i._popoverTemplateId).html().replace("{link}",i._getExpressionsLink())}}),this._elements.logLinkButton.click(function(){i._isLogLinkButtonEnabled&&$(this).popover("show")}),this._elements.logLinkButton.on("shown.bs.popover",function(){var t=$(this).attr("aria-describedby");$("#"+t+" input").focus().select(),$(this).addClass("active")}),this._elements.logLinkButton.on("hidden.bs.popover",function(){$(this).removeClass("active")}),$(document).on("click",function(t){var e=i._elements.logLinkButton,n=e.attr("aria-describedby")||null;n&&e.hasClass("active")&&0===$("#"+n).has(t.target).length&&e.popover("hide")})},i.LinksHandler.prototype._initializeExpressionLinkUi=function(){var i=this;this._visibleExpressionLinkPopover=null,$("body").popover({placement:"left",container:"body",html:!0,title:"Expression Link Generated",trigger:"click",selector:".create-expression-link-button",content:function(){return $(i._popoverTemplateId).html().replace("{link}",i._getExpressionsLink($(this).parents(".command")))}}),$("body").on("shown.bs.popover",function(t){var e=$(t.target);if(e.hasClass("create-expression-link-button")){e.parents(".command").addClass("active");var n=e.attr("aria-describedby");$("#"+n+" input").focus().select(),i._visibleExpressionLinkPopover=$("#"+n)}}),$("body").on("hidden.bs.popover",function(t){var e=$(t.target);e.hasClass("create-expression-link-button")&&e.parents(".command").removeClass("active")}),$(document).on("click",function(t){i._visibleExpressionLinkPopover&&0===i._visibleExpressionLinkPopover.has(t.target).length&&(i._visibleExpressionLinkPopover.popover("hide"),i._visibleExpressionLinkPopover=null)})},i.LinksHandler.prototype._getExpressionsLink=function(t){var e=this._getExpressionCallback(t),n=this._serializeExpressionsList(e);return this._buildLink(n)},i.LinksHandler.prototype._serializeExpressionsList=function(t){var e={c:t,v:"1"},n=JSON.stringify(e);return i.base64Encode(i.stringToUtf8Array(n))},i.LinksHandler.prototype._deserializeExpressionsList=function(t){var e=i.stringFromUtf8Array(i.base64Decode(t));return JSON.parse(e).c},i.LinksHandler.prototype._buildLink=function(t){var e=window.location.href.split("/");return e[0]+"//"+e[2]+"#"+t},i.LinksHandler.prototype._getExpressonsListFromUrl=function(){if(!window.location.hash)return null;var t=window.location.hash.substring(1);return t.length?t:null}}(window.clc=window.clc||{}),function(n){n.SettingsHandler=function(t){this._onSettingsChangedCallback=t,this._elements={showSettingsDialogButton:$("#show-settings-dialog-button"),settingsDialog:$("#settings-dialog"),thousandsSeparatorSelect:$("#settings-dialog form select"),precisionInput:$("#settings-dialog form input"),applySettingsButton:$("#settings-dialog button.btn-primary")},this._settings={precision:64,thousandsSeparatorEnabled:!1},this._loadSettings(),this._initializeUi()},n.SettingsHandler.prototype.getSettings=function(){return this._settings},n.SettingsHandler.prototype._loadSettings=function(){if(void 0!==window.localStorage){var t=localStorage.getItem("settingsThousandsSeparatorEnabled"),e=localStorage.getItem("precision");t=null===t?this._settings.thousandsSeparatorEnabled:"true"===t,e=null===e?this._settings.precision:parseInt(e,10),this._settings.thousandsSeparatorEnabled=t,this._settings.precision=e}},n.SettingsHandler.prototype._saveSettings=function(){void 0!==window.localStorage&&(localStorage.setItem("settingsThousandsSeparatorEnabled",this._settings.thousandsSeparatorEnabled),localStorage.setItem("precision",this._settings.precision))},n.SettingsHandler.prototype._initializeUi=function(){var t=this;this._elements.settingsDialog.modal({backdrop:!0,keyboard:!0,show:!1}),this._elements.settingsDialog.on("show.bs.modal",function(){t._elements.showSettingsDialogButton.addClass("active")}),this._elements.settingsDialog.on("hidden.bs.modal",function(){t._elements.showSettingsDialogButton.removeClass("active")}),this._elements.applySettingsButton.click(function(){t._applySettings()}),this._elements.showSettingsDialogButton.click(function(){t._showDialog()})},n.SettingsHandler.prototype._showDialog=function(){this._elements.thousandsSeparatorSelect.val(this._settings.thousandsSeparatorEnabled?"enabled":"disabled"),this._elements.precisionInput.val(this._settings.precision),this._elements.settingsDialog.modal("show")},n.SettingsHandler.prototype._hideDialog=function(){this._elements.settingsDialog.modal("hide")},n.SettingsHandler.prototype._applySettings=function(){var e;this._settings.thousandsSeparatorEnabled="enabled"===this._elements.thousandsSeparatorSelect.val();try{if(e=parseInt(this._elements.precisionInput.val()),!isFinite(e))throw new Error("Precision is "+e)}catch(t){n.log(t),e=this._settings.precision}this._settings.precision=n.clamp(e,8,4096),this._saveSettings(),this._hideDialog(),this._onSettingsChangedCallback()}}(window.clc=window.clc||{}),function(t){t.SyntaxHighlighter=function(){this._constants=[].concat(t.MATH_JS_CONSTANTS,["true","false"]),this._keywords=[].concat(t.MATH_JS_FUNCTIONS,t.CLCALC_FUNCTIONS,t.ALIASES,"$"),this._re={identifier:new RegExp("([0-9]*)([A-Za-z_$][A-Za-z0-9_$]*)","g"),color:new RegExp("#[A-Fa-f0-9]{6,8}","g")},this._classes={constant:"highlight-constant",keyword:"highlight-keyword",color:"highlight-color"}},t.SyntaxHighlighter.prototype.highlight=function(t){var i=this;return t.replace(this._re.identifier,function(t,e,n){if(i._isValidIdentifier(e,n)){if(-1!==i._constants.indexOf(n))return e+"[[;;;highlight-constant;]"+n+"]";if(-1!==i._keywords.indexOf(n))return e+"[[;;;highlight-keyword;]"+n+"]"}return t}).replace(this._re.color,function(t){return 7===t.length||9===t.length?"[[;;;highlight-color;]"+t+"]":t})},t.SyntaxHighlighter.prototype._isValidIdentifier=function(t,e){return!(!e||0===e.length)&&(!t||1!==t.length||"0"!==t[0]||"x"!==e[0]&&"X"!==e[0]&&"b"!==e[0]&&"B"!==e[0])}}(window.clc=window.clc||{}),function(r){r.TexHandler=function(){this._pendingExpressions=[],this._elements={togglePanelButton:$("#toggle-tex-panel-button"),panel:$(".tex-panel"),panelWrapper:$(".tex-wrapper")},this._katexLoadUrl="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js",this._katexLoadInProgress=!1,this._initializeUi()},r.TexHandler.prototype.addEvaluatedExpression=function(t,e){this._pendingExpressions.push({expression:t,value:e||null}),this._render()},r.TexHandler.prototype.clear=function(){this._pendingExpressions=[],this._elements.panel.empty()},r.TexHandler.prototype._isPanelVisible=function(){return"none"!==this._elements.panelWrapper.css("display")},r.TexHandler.prototype._setPanelVisible=function(t){t?this._elements.panelWrapper.css("display",$(window).width()<768?"table-row":"table-cell"):this._elements.panelWrapper.css("display","none")},r.TexHandler.prototype._initializeUi=function(){var t=this;this._elements.togglePanelButton.click(function(){t._isPanelVisible()?t._hidePanel():t._showPanel()})},r.TexHandler.prototype._showPanel=function(){var t=this;this._elements.togglePanelButton.addClass("active"),"undefined"==typeof katex?this._loadKatex(function(){t._showPanel()}):(this._setPanelVisible(!0),this._render())},r.TexHandler.prototype._hidePanel=function(){this._elements.togglePanelButton.removeClass("active"),this._setPanelVisible(!1)},r.TexHandler.prototype._loadKatex=function(t){var i=this;this._katexLoadInProgress||(this._katexLoadInProgress=!0,$.getScript(this._katexLoadUrl).done(function(){i._katexLoadInProgress=!1,t()}).fail(function(t,e,n){i._katexLoadInProgress=!1,r.log("Failed to load Katex library: "+n.name+", "+n.message)}))},r.TexHandler.prototype._render=function(){if(this._isPanelVisible()){for(var t=0;t<this._pendingExpressions.length;++t){var e=this._pendingExpressions[t],n=$('<div class="tex-block"></div>'),i=$('<div class="tex-expression"></div>');if(this._elements.panel.append(n),n.append(i),katex.render(e.expression,i[0]),null!==e.value){var r=$('<div class="tex-value"></div>');n.append(r),katex.render(e.value,r[0])}}this._pendingExpressions.length&&(this._pendingExpressions=[],this._elements.panel.scrollTop(this._elements.panel[0].scrollHeight))}}}(window.clc=window.clc||{});