$(document).ready(function(){function t(t){var e="";return t.find(">div>span").each(function(t,n){e+=0===t?$(n).text().substr(i.length):$(n).text()}),e}$('[data-toggle="tooltip"]').tooltip();var e,n;n=new clc.SettingsHandler(function(){e.setSettings(n.getSettings())}),(e=new clc.Calculator(math,n.getSettings())).installExtension(new clc.HexBinLiteralsExtension),e.installExtension(new clc.UnicodeEncodingExtension),e.installExtension(new clc.Base64EncodingExtension),e.installExtension(new clc.HashesExtension),e.installExtension(new clc.ColorExtension(!0)),e.installExtension(new clc.LerpExtension),e.installExtension(new clc.PlotExtension);var i=">",r=new clc.LinksHandler(function(e){if(void 0!==e)return[t(e)];var n=[];return $(".terminal-output .command").each(function(e,i){var r=t($(i));clc.isStringBlank(r)||n.push(r)}),n}),o=new clc.TexHandler,s=new clc.SyntaxHighlighter;r.setLogLinkButtonEnabled(!1),$.terminal.defaults.formatters.push(function(t){return s.highlight(t)});var a=$(".console-panel").terminal(function(t){if(!clc.isStringBlank(t)){r.setLogLinkButtonEnabled(!0);try{var n=e.evaluate(t);o.addEvaluatedExpression(n.tex,n.result.tex||null),n.result.postprocessed?this.echo(n.result.postprocessed,{raw:!0}):n.result.raw instanceof clc.CallbackResult&&this.echo(n.result.raw.callback,{raw:!0})}catch(t){this.echo("[[;;;terminal-output-error;]"+t.name+": "+t.message+"]")}}},{completion:clc.COMPLETION_KEYWORDS,onEchoCommand:function(t){var e=t.find("div span"),n=e.length?e.text().substring(i.length):"";clc.isStringBlank(n)||r.injectExpressionLinkButton(t.find(">div").last())},name:"clcalc",prompt:"[[;;;prompt-wrapper]"+i+"]",exit:!1,memory:!0,enabled:!0,greetings:function(){this.echo('<div class="welcome-message">Type math expression and press enter to calculate the result. You can use up/down keys to navigate commands history and tab key for autocompletion. Check <a href="/help.html#quickstart" target="_blank">Quick Start</a> guide for some examples.</div>',{raw:!0})},onClear:function(){r.setLogLinkButtonEnabled(!1),o.clear()}});a.option("mousewheel",function(t){return!clc.FunctionPlot2D.isEventConsumed(t)}),window.onhashchange=function(){window.location.reload()};var l=r.getExpressionsListFromUrl();if(l){var c=new RegExp(String.fromCharCode(160),"g");for(var h in l)a.exec(l[h].replace(c," "))}}),Math.log10||(Math.log10=function(t){return Math.log(t)/Math.LN10}),Math.sign||(Math.sign=function(t){return(t>0)-(t<0)||+t}),function(t){t.isStringBlank=function(t){if(!t||!t.length)return!0;for(var e=0;e<t.length;++e)if(" "!==t[e]&&"\t"!==t[e]&&"\r"!==t[e]&&"\n"!==t[e]&&160!==t.charCodeAt(e))return!1;return!0},t.repeatString=function(t,e){for(var n="",i=0;i<e;++i)n+=t;return n},t.padLeft=function(e,n,i){return e.length>=i||1!==n.length?e:t.repeatString(n,i-e.length)+e},t.stringToUnicodeCodePointList=function(t){for(var e=[],n=0;n<t.length;++n){var i=t.charCodeAt(n);if(i>=55296&&i<=56319&&n+1<t.length){var r=t.charCodeAt(n+1);r>=56320&&r<=57343&&(i=1024*(i-55296)+r-56320+65536,++n)}e.push(i)}return e},t.stringFromUnicodeCodePointList=function(e){for(var n="",i=0;i<e.length;++i){var r=t.toUint32(e[i]);if(r>1114111)throw new Error("Invalid code point value: "+r+". Must be less then or equal to 0x10FFFF.");if(r>65535){var o=Math.floor((r-65536)/1024)+55296,s=(r-65536)%1024+56320;n+=String.fromCharCode(o,s)}else n+=String.fromCharCode(r)}return n},t.stringToUtf8Array=function(t){var e=[];t=unescape(encodeURIComponent(t));for(var n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e},t.stringFromUtf8Array=function(e){for(var n=[],i=0;i<e.length;){var r,o=t.toUint8(e[i]);if(0==(128&o))r=127&o,i+=1;else if(o>>>5==6){if(i+1>=e.length)throw new Error("Failed to decode utf8 string: excepceted 1 byte after "+o);r=(31&o)<<6|63&t.toUint8(e[i+1]),i+=2}else if(o>>>4==14){if(i+2>=e.length)throw new Error("Failed to decode utf8 string: excepceted 2 bytes after "+o);r=(15&o)<<12|(63&t.toUint8(e[i+1]))<<6|63&t.toUint8(e[i+2]),i+=3}else{if(o>>>3!=30)throw new Error("Failed to decode utf8 string: unexpected byte "+o+" at position "+i);if(i+3>=e.length)throw new Error("Failed to decode utf8 string: excepceted 3 bytes after "+o);r=(7&o)<<18|(63&t.toUint8(e[i+1]))<<12|(63&t.toUint8(e[i+2]))<<6|63&t.toUint8(e[i+3]),i+=4}n.push(r)}return t.stringFromUnicodeCodePointList(n)};var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.base64Encode=function(n){if(0===n.length)return"";var i,r="",o=n.length%3;if(o)for(o=3-o,i=0;i<o;++i)n.push(0);for(i=0;i<n.length;i+=3){var s=t.toUint8(n[i]),a=t.toUint8(n[i+1]),l=t.toUint8(n[i+2]);r+=e[s>>>2],r+=e[(3&s)<<4|a>>>4],r+=i===n.length-3&&2===o?"=":e[(15&a)<<2|l>>>6],r+=i===n.length-3&&o?"=":e[63&l]}return r},t.base64Decode=function(t){if(0===t.length)return[];for(var n=[],i=0;i<t.length;i+=4){var r=e.indexOf(t[i]);if(-1===r)throw new Error("Invalid character at index "+i);if(i+1>=t.length)throw new Error("The string is not correctly base64 encoded: next character expected.");var o=e.indexOf(t[i+1]);if(-1===o)throw new Error("Invalid character at index "+i);var s=i+2<t.length?"="===t[i+2]?0:e.indexOf(t[i+2]):0;if(-1===s)throw new Error("Invalid character at index "+i);var a=i+3<t.length?"="===t[i+3]?0:e.indexOf(t[i+3]):0;if(-1===a)throw new Error("Invalid character at index "+i);if(i+2<t.length&&"="===t[i+2]&&(i+3>=t.length||"="!==t[i+3]))throw new Error("The string is not correctly base64 encoded: improper padding.");n.push(r<<2|o>>>4),i+2<t.length&&"="!==t[i+2]&&(n.push((15&o)<<4|s>>>2),i+3<t.length&&"="!==t[i+3]&&n.push((3&s)<<6|a))}return n},t.randomAlnumString=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",i=0;i<t;++i)n+=e[Math.floor(Math.random()*e.length)];return n},t.randomId=function(e){return e+t.randomAlnumString(10)},t.round1Dec=function(t){return Math.sign(t)*Math.round(10*Math.abs(t))/10},t.truncateNumber=function(t){return 0|t},t.clamp=function(t,e,n){return t<e?e:t>n?n:t},t.mod=function(t,e){return(t%e+e)%e},t.toUint32=function(t){if("number"!=typeof t&&!t.toNumber)throw new Error("Must be a numeric type: "+t);var e=t.toNumber?t.toNumber():t;if(e<0)throw new Error("Number must be non-negative: "+e);if(e>4294967295)throw new Error("Number must fit in 4 byte unsigned integer: "+e);return e>>>0},t.toUint8=function(e){var n=t.toUint32(e);if(e>255)throw new Error("Number exceeds byte range: "+n);return n},t.dropTrailingZeroes=function(t){var e=t.indexOf(".");if(-1!==e){for(var n=t.length-1;n>e&&"0"===t[n];)--n;if(e===n)return t.substring(0,e);if(n<t.length-1)return t.substring(0,n+1)}return t},t.addThousandsSeparator=function(t,e){if(!t.length||!e.length)return t;var n,i="-"===t[0]?1:0,r=t.indexOf("."),o=(-1===r?t.length:r)-i,s="";for(0!==i&&(s+=t[0]),n=i;n<o+i;++n)(o-n+i)%3==0&&n!==i&&(s+=e),s+=t[n];if(-1!==r)for(s+=".",n=r+1;n<t.length;++n)s+=t[n],(n-r)%3==0&&n!==t.length-1&&(s+=e);return s},t.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.htmlTag=function(e,n,i){var r="<"+e;if(n)for(var o in n)n.hasOwnProperty(o)&&(r+=" "+o+'="'+n[o]+'"');return i&&t.isArray(i)&&(i=i.join("")),r+=">"+(i||"")+"</"+e+">"},t.domElement=function(e,n,i,r){var o=document.createElementNS(e,n);if(i)for(var s in i)i.hasOwnProperty(s)&&o.setAttribute(s,i[s]);if(r)if(t.isArray(r))for(var a=0;a<r.length;++a)o.appendChild(r[a]);else"string"==typeof r?o.innerHTML=r:o.appendChild(r);return o},t.mathJsToValidNumber=function(t){if("number"==typeof t||t instanceof Number){if(!isFinite(t))throw new Error("Number is infinite or NaN");return t}if(t.toNumber){if(t.isFinite())return t.toNumber();throw new Error("Number is infinite or NaN")}throw new Error("Not a recognized number type")},t.log=function(t){console&&console.log&&console.log(t)}}(window.clc=window.clc||{}),function(t){t.Calculator=function(e,n){var i=this;this._mathJs=e,this._mathJs.config({number:"BigNumber",precision:n.precision}),this._scope={},this._extensions=[],this._settings={precision:n.precision,enableThousandsSeparator:n.thousandsSeparatorEnabled},this._decimalNumberRegexp=new RegExp("^[\\d\\.-]+$",""),this._thousandsSeparator='<span class="ts"></span>',this._thousandsSeparatorRegexp=new RegExp('<span class="ts"><\\/span>',"g"),this._numberFormatter=function(e){var n=e.isBigNumber?t.dropTrailingZeroes(e.toFixed(i._settings.precision)):e.toString();return i._settings.enableThousandsSeparator?i._formatNumberAddDigitGrouping(n):n},this._registerAliases()},t.Calculator.prototype.setSettings=function(t){this._settings.precision=t.precision,this._settings.enableThousandsSeparator=t.thousandsSeparatorEnabled,this._mathJs.config({number:"BigNumber",precision:t.precision})},t.Calculator.prototype.installExtension=function(t){t.extend(this._mathJs),this._extensions.push(t)},t.Calculator.prototype.evaluate=function(e){var n=new t.EvaluatedExpression;if(!t.isStringBlank(e)){var i=this._preprocessExpression(e);try{var r=this._mathJs.parse(i);n.tex=this._nodeToTex(r);var o=r.compile().eval(this._scope);this._isValidValue(o)&&(o instanceof t.CallbackResult?n.result.raw=o:(n.result.raw=this._mathJs.format(o,this._numberFormatter),n.result.postprocessed=this._postprocessValue(n.result.raw),n.result.tex=this._valueToTex(n.result.raw)))}catch(t){throw t.message||(t.message="Failed to parse expression"),e!==i&&(t.message+=". Preprocessed expression: '"+i+"'"),t}}return n},t.Calculator.prototype._preprocessExpression=function(t){for(var e=0;e<this._extensions.length;++e){var n=this._extensions[e];n.preprocess&&(t=n.preprocess(t))}return t},t.Calculator.prototype._postprocessValue=function(t){for(var e=0;e<this._extensions.length;++e){var n=this._extensions[e];n.postprocess&&(t=n.postprocess(t))}return t},t.Calculator.prototype._nodeToTex=function(e){try{return e.toTex()}catch(e){return t.log(e.name+", "+e.message),"Failed to convert expression to TeX"}},t.Calculator.prototype._valueToTex=function(e){try{e=e.replace(this._thousandsSeparatorRegexp,"");return this._mathJs.parse(this._preprocessExpression(e)).toTex()}catch(e){return t.log(e.name+", "+e.message),"Failed to convert expression value to TeX"}},t.Calculator.prototype._isValidValue=function(t){return void 0!==t&&"function"!=typeof t},t.Calculator.prototype._registerAliases=function(){var t=this;if(!this._mathJs.nCr){var e=this._mathJs.typed("nCr",{"BigNumber, BigNumber":function(e,n){return t._mathJs.combinations(e,n)}});e.toTex=t._mathJs.combinations.toTex,this._mathJs.import({nCr:e})}if(!this._mathJs.nPr){var n=this._mathJs.typed("nPr",{BigNumber:function(e){return t._mathJs.permutations(e)},"BigNumber, BigNumber":function(e,n){return t._mathJs.permutations(e,n)}});this._mathJs.import({nPr:n})}},t.Calculator.prototype._formatNumberAddDigitGrouping=function(e){return this._decimalNumberRegexp.test(e)?t.addThousandsSeparator(e,this._thousandsSeparator):e}}(window.clc=window.clc||{}),(window.clc=window.clc||{}).CallbackResult=function(t){this.callback=t},(window.clc=window.clc||{}).EvaluatedExpression=function(){this.tex=null,this.result={raw:null,postprocessed:null}},function(t){t.MATH_JS_CONSTANTS=["e","E","i","Infinity","NaN","null","LN2","LN10","LOG2E","LOG10E","phi","pi","PI","tau","SQRT1_2","SQRT2","uninitialized","version"],t.MATH_JS_FUNCTIONS=["bignumber","boolean","chain","complex","createUnit","fraction","index","matrix","number","sparse","splitUnit","string","unit","compile","eval","help","parse","parser","derivative","lsolve","lup","lusolve","qr","simplify","slu","usolve","rationalize","abs","add","cbrt","ceil","cube","divide","dotDivide","dotMultiply","dotPow","exp","fix","floor","gcd","hypot","lcm","log","log10","mod","multiply","norm","nthRoot","pow","round","sign","sqrt","square","subtract","unaryMinus","unaryPlus","xgcd","bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift","bellNumbers","catalan","composition","stirlingS2","arg","conj","im","re","distance","intersect","and","not","or","xor","concat","cross","det","diag","dot","eye","filter","flatten","forEach","inv","kron","map","ones","partitionSelect","range","reshape","resize","size","sort","squeeze","subset","trace","transpose","zeros","combinations","factorial","gamma","kldivergence","multinomial","permutations","pickRandom","random","randomInt","compare","compareNatural","deepEqual","equal","larger","largerEq","smaller","smallerEq","unequal","setCartesian","setDifference","setDistinct","setIntersect","setIsSubset","setMultiplicity","setPowerset","setSize","setSymDifference","setUnion","erf","mad","max","mean","median","min","mode","prod","quantileSeq","std","sum","var","format","print","acos","acosh","acot","acoth","acsc","acsch","asec","asech","asin","asinh","atan","atan2","atanh","cos","cosh","cot","coth","csc","csch","sec","sech","sin","sinh","tan","tanh","to","clone","isInteger","isNaN","isNegative","isNumeric","isPositive","isPrime","isZero","typeof"],t.CLCALC_FUNCTIONS=["Color4b","color4b","color3b","color4f","colorU32","colorHsv","colorHsl","hsv","hsl","rgb","argb","argbf","base64Encode","base64Decode","toCodePoints","fromCodePoints","toUtf8","fromUtf8","md5","sha1","sha224","sha256","lerp","plot2d","hex","bin"],t.ALIASES=["nCr","nPr"],t.COMPLETION_KEYWORDS=["Infinity","NaN","null","LN2","LN10","LOG2E","LOG10E","phi","pi","PI","tau","SQRT1_2","SQRT2","fraction","derivative","lsolve","lup","lusolve","qr","simplify","slu","usolve","rationalize","abs","cbrt","ceil","cube","dotDivide","dotMultiply","dotPow","exp","fix","floor","gcd","hypot","lcm","log","log10","mod","norm","nthRoot","round","sign","sqrt","square","subtract","xgcd","bellNumbers","catalan","composition","stirlingS2","arg","conj","im","re","distance","intersect","and","not","or","xor","concat","cross","det","diag","dot","eye","filter","flatten","forEach","inv","kron","map","ones","partitionSelect","range","reshape","resize","size","sort","squeeze","subset","trace","transpose","zeros","combinations","factorial","gamma","kldivergence","multinomial","permutations","pickRandom","random","randomInt","setCartesian","setDifference","setDistinct","setIntersect","setIsSubset","setMultiplicity","setPowerset","setSize","setSymDifference","setUnion","erf","mad","max","mean","median","min","mode","prod","quantileSeq","std","sum","var","acos","acosh","acot","acoth","acsc","acsch","asec","asech","asin","asinh","atan","atan2","atanh","cos","cosh","cot","coth","csc","csch","sec","sech","sin","sinh","tan","tanh","to","help","clear"].concat(t.CLCALC_FUNCTIONS,t.ALIASES)}(window.clc=window.clc||{}),function(t){t.ColorExtension=function(t){this._mathJs=null,this._colorLiteral4bRegexp=new RegExp("#[A-Fa-f0-9]{8}","g"),this._colorLiteral43bRegexp=new RegExp("#[A-Fa-f0-9]{6,8}","g"),t&&(this._visibleTooltipIds=[],this._initializeColorTooltips())},t.ColorExtension.prototype.extend=function(e){this._mathJs=e,this._mathJs.typed.addType({name:"Color",test:function(e){return e&&e instanceof t.Color}}),this._registerFunction("Color4b","BigNumber, BigNumber, BigNumber, BigNumber",function(e,n,i,r){return t.Color.from4b(e,n,i,r)},!1,function(e){return"\\mathtt{\\"+t.Color.from4b(parseInt(e.args[0].value),parseInt(e.args[1].value),parseInt(e.args[2].value),parseInt(e.args[3].value)).toString()+"}"}),this._registerFunction("color4b","BigNumber, BigNumber, BigNumber, BigNumber",function(e,n,i,r){return t.Color.from4b(e,n,i,r)}),this._registerFunction("color3b","BigNumber, BigNumber, BigNumber",function(e,n,i){return t.Color.from4b(255,e,n,i)}),this._registerFunction("color4f","BigNumber, BigNumber, BigNumber, BigNumber",function(e,n,i,r){return t.Color.from4f(e,n,i,r)}),this._registerFunction("colorU32","BigNumber",function(e){return t.Color.fromU32(e)}),this._registerFunction("colorHsv","BigNumber, BigNumber, BigNumber",function(e,n,i){return t.Color.fromHsv(e,n,i)}),this._registerFunction("colorHsl","BigNumber, BigNumber, BigNumber",function(e,n,i){return t.Color.fromHsl(e,n,i)}),this._registerFunction("hsv","Color",function(t){return t.toHsv()},!0),this._registerFunction("hsl","Color",function(t){return t.toHsl()},!0),this._registerFunction("rgb","Color",function(t){return t.toArgb().splice(1)},!0),this._registerFunction("argb","Color",function(t){return t.toArgb()},!0),this._registerFunction("argbf","Color",function(t){return t.toArgbf()},!0),this._registerFunction("add","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t+e})}),this._registerFunction("subtract","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t-e})}),this._registerFunction("multiply","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t*e})}),this._registerFunction("multiply","Color, BigNumber",function(t,e){return t.op([e,e,e,e],function(t,e){return t*e})}),this._registerFunction("multiply","BigNumber, Color",function(t,e){return e.op([t,t,t,t],function(t,e){return t*e})}),this._registerFunction("divide","Color, Color",function(t,e){return t.op(e.toArgbf(),function(t,e){return t/e})}),this._registerFunction("divide","Color, BigNumber",function(t,e){return t.op([e,e,e,e],function(t,e){return t/e})})},t.ColorExtension.prototype.preprocess=function(t){return t.replace(this._colorLiteral43bRegexp,function(t){if(9!==t.length&&7!==t.length)throw new Error("Invalid color literal: "+t);var e=t.substr(9===t.length?3:1),n=e.substr(0,2),i=e.substr(2,2),r=e.substr(4,2),o=9===t.length?t.substr(1,2):"FF";return"Color4b("+parseInt(o,16)+", "+parseInt(n,16)+", "+parseInt(i,16)+", "+parseInt(r,16)+")"})},t.ColorExtension.prototype.postprocess=function(t){var e=this;return t.replace(this._colorLiteral4bRegexp,function(t){return e._generateColorSampleHtml(t)})},t.ColorExtension.prototype._generateColorSampleHtml=function(t){return'<div class="color-sample" data-color="'+t+'"><div style="background-color: '+("#"+t.substr(3))+"; opacity: "+parseInt(t.substr(1,2),16)/255+'">&nbsp;</div></div>'},t.ColorExtension.prototype._initializeColorTooltips=function(){var t=this;$("body").tooltip({placement:"top",container:"body",selector:".color-sample",trigger:"click",template:'<div class="tooltip color-sample-tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:function(){return $(this).data("color")}}),$(document).on("shown.bs.tooltip",".color-sample",function(e){t._visibleTooltipIds.push($(e.target).attr("aria-describedby"))}),$(document).on("click",function(e){if(t._visibleTooltipIds.length){var n=$(e.target),i=$(e.target).parent();if($(".color-sample-tooltip").has(e.target).length)return;if(n.hasClass("color-sample")||i&&i.length&&i.hasClass("color-sample"))return;for(var r=0;r<t._visibleTooltipIds.length;++r)$("#"+t._visibleTooltipIds[r]).tooltip("hide");t._visibleTooltipIds=[]}}),$(document).on("hidden.bs.tooltip",function(t){$(t.target).data("bs.tooltip").inState.click=!1})},t.ColorExtension.prototype._registerFunction=function(t,e,n,i,r){try{var o={},s={},a=r||null,l=this;o[e]=n,i&&(o["Array | Matrix"]=function(t){return l._mathJs.map(t,n)}),s[t]=this._mathJs.typed(t,o),a&&(s[t].toTex=a),this._mathJs.import(s)}catch(t){if(!t.data||!t.data.signature)throw t}}}(window.clc=window.clc||{}),function(t){function e(e){var n=t.mathJsToValidNumber(e);if(n<0||n>1)throw new Error("Must be floating point number in range [0, 1]");return Math.round(255*n)}t.Color=function(t){this._argb=t>>>0},t.Color.from4b=function(e,n,i,r){return new t.Color(t.toUint8(e)<<24|t.toUint8(n)<<16|t.toUint8(i)<<8|t.toUint8(r))},t.Color.from4f=function(n,i,r,o){return new t.Color.from4b(e(n),e(i),e(r),e(o))},t.Color.fromU32=function(e){return new t.Color(t.toUint32(e))},t.Color.fromHsv=function(e,n,i){if(e=t.toUint32(e),n=t.toUint32(n),i=t.toUint32(i),e>=360)throw new Error("Hue must be in range [0, 360)");if(n>100)throw new Error("Saturation must be in range [0, 100]");if(i>100)throw new Error("Value must be in range [0, 100]");var r,o=(i/=100)*(n/=100),s=o*(1-Math.abs(e/60%2-1)),a=i-o;return r=e<60?[o,s,0]:e<120?[s,o,0]:e<180?[0,o,s]:e<240?[0,s,o]:e<300?[s,0,o]:[o,0,s],t.Color.from4b(255,Math.round(255*(r[0]+a)),Math.round(255*(r[1]+a)),Math.round(255*(r[2]+a)))},t.Color.fromHsl=function(e,n,i){if(e=t.toUint32(e),n=t.toUint32(n),i=t.toUint32(i),e>=360)throw new Error("Hue must be in range [0, 360)");if(n>100)throw new Error("Saturation must be in range [0, 100]");if(i>100)throw new Error("Lightness must be in range [0, 100]");n/=100,i/=100;var r,o=(1-Math.abs(2*i-1))*n,s=o*(1-Math.abs(e/60%2-1)),a=i-.5*o;return r=e<60?[o,s,0]:e<120?[s,o,0]:e<180?[0,o,s]:e<240?[0,s,o]:e<300?[s,0,o]:[o,0,s],t.Color.from4b(255,Math.round(255*(r[0]+a)),Math.round(255*(r[1]+a)),Math.round(255*(r[2]+a)))},t.Color.prototype.get=function(t){return this._argb>>>24-8*t&255},t.Color.prototype.toString=function(){return"#"+(t.padLeft(this.get(0).toString(16),"0",2)+t.padLeft(this.get(1).toString(16),"0",2)+t.padLeft(this.get(2).toString(16),"0",2)+t.padLeft(this.get(3).toString(16),"0",2)).toUpperCase()},t.Color.prototype.op=function(e,n){var i,r=this.toArgbf();for(i=0;i<4;++i)r[i]=t.clamp(n(r[i],t.mathJsToValidNumber(e[i])),0,1);return t.Color.from4f(r[0],r[1],r[2],r[3])},t.Color.prototype.toHsv=function(){var e,n,i,r=this.get(1)/255,o=this.get(2)/255,s=this.get(3)/255,a=Math.max(r,o,s),l=a-Math.min(r,o,s);return 0==l?e=0:a===r?e=60*t.mod((o-s)/l,6):a===o?e=60*((s-r)/l+2):a===s&&(e=60*((r-o)/l+4)),n=0==a?0:l/a,i=a,[Math.round(e),Math.round(100*n),Math.round(100*i)]},t.Color.prototype.toHsl=function(){var e,n,i,r=this.get(1)/255,o=this.get(2)/255,s=this.get(3)/255,a=Math.max(r,o,s),l=Math.min(r,o,s),c=a-l;return 0==c?e=0:a===r?e=60*t.mod((o-s)/c,6):a===o?e=60*((s-r)/c+2):a===s&&(e=60*((r-o)/c+4)),i=(a+l)/2,n=0==c?0:c/(1-Math.abs(2*i-1)),[Math.round(e),Math.round(100*n),Math.round(100*i)]},t.Color.prototype.toArgb=function(){return[this.get(0),this.get(1),this.get(2),this.get(3)]},t.Color.prototype.toArgbf=function(){return[this.get(0)/255,this.get(1)/255,this.get(2)/255,this.get(3)/255]}}(window.clc=window.clc||{}),function(t){t.Base64EncodingExtension=function(){this._mathJs=null},t.Base64EncodingExtension.prototype.extend=function(t){var e=this;if(this._mathJs=t,!this._mathJs.base64Encode){var n=this._mathJs.typed("base64Encode",{Array:function(t){return e._functionBase64Encode(t)}});this._mathJs.import({base64Encode:n})}if(!this._mathJs.base64Decode){var i=this._mathJs.typed("base64Decode",{string:function(t){return e._functionBase64Decode(t)}});this._mathJs.import({base64Decode:i})}},t.Base64EncodingExtension.prototype._functionBase64Encode=function(e){return void 0===e||null===e?"":t.base64Encode(e)},t.Base64EncodingExtension.prototype._functionBase64Decode=function(e){return void 0===e||null===e?[]:t.base64Decode(e)}}(window.clc=window.clc||{}),function(t){t.UnicodeEncodingExtension=function(){this._mathJs=null},t.UnicodeEncodingExtension.prototype.extend=function(t){var e=this;if(this._mathJs=t,!this._mathJs.toCodePoints){var n=this._mathJs.typed("toCodePoints",{string:function(t){return e._functionToCodePoints(t)}});this._mathJs.import({toCodePoints:n})}if(!this._mathJs.fromCodePoints){var i=this._mathJs.typed("fromCodePoints",{Array:function(t){return e._functionFromCodePoints(t)}});this._mathJs.import({fromCodePoints:i})}if(!this._mathJs.toUtf8){var r=this._mathJs.typed("toUtf8",{string:function(t){return e._functionToUtf8(t)}});this._mathJs.import({toUtf8:r})}if(!this._mathJs.fromUtf8){var o=this._mathJs.typed("fromUtf8",{Array:function(t){return e._functionFromUtf8(t)}});this._mathJs.import({fromUtf8:o})}},t.UnicodeEncodingExtension.prototype._functionToCodePoints=function(e){return void 0===e||null===e||0===e.length?[]:t.stringToUnicodeCodePointList(e)},t.UnicodeEncodingExtension.prototype._functionFromCodePoints=function(e){return void 0===e||null===e||0===e.length?"":t.stringFromUnicodeCodePointList(e)},t.UnicodeEncodingExtension.prototype._functionToUtf8=function(e){return void 0===e||null===e||0===e.length?[]:t.stringToUtf8Array(e)},t.UnicodeEncodingExtension.prototype._functionFromUtf8=function(e){return void 0===e||null===e||0===e.length?"":t.stringFromUtf8Array(e)}}(window.clc=window.clc||{}),function(t){t.HashesExtension=function(){this._mathJs=null},t.HashesExtension.prototype.extend=function(t){var e=this;if(this._mathJs=t,!this._mathJs.md5){var n=this._mathJs.typed("md5",{Array:function(t){return e._functionMd5(t)}});this._mathJs.import({md5:n})}if(!this._mathJs.sha1){var i=this._mathJs.typed("sha1",{Array:function(t){return e._functionSha1(t)}});this._mathJs.import({sha1:i})}if(!this._mathJs.sha224){var r=this._mathJs.typed("sha224",{Array:function(t){return e._functionSha224(t)}});this._mathJs.import({sha224:r})}if(!this._mathJs.sha256){var o=this._mathJs.typed("sha256",{Array:function(t){return e._functionSha256(t)}});this._mathJs.import({sha256:o})}},t.HashesExtension.prototype._functionMd5=function(e){if(void 0===e||null===e)throw new Error("Invalid argument");return t.md5(e)},t.HashesExtension.prototype._functionSha1=function(e){if(void 0===e||null===e)throw new Error("Invalid argument");return t.sha1(e)},t.HashesExtension.prototype._functionSha224=function(e){if(void 0===e||null===e)throw new Error("Invalid argument");return t.sha224(e)},t.HashesExtension.prototype._functionSha256=function(e){if(void 0===e||null===e)throw new Error("Invalid argument");return t.sha256(e)}}(window.clc=window.clc||{}),function(t){function e(t,e){return(t<<e|t>>>32-e)>>>0}function n(t,e){return(t>>>e|t<<32-e)>>>0}function i(t){return((4278190080&t)>>>24|(16711680&t)>>>8|(65280&t)<<8|(255&t)<<24)>>>0}function r(e,n,i){return(t.toUint8(e[n+4*i+3])<<24|t.toUint8(e[n+4*i+2])<<16|t.toUint8(e[n+4*i+1])<<8|t.toUint8(e[n+4*i]))>>>0}function o(t,e,n){return i(r(t,e,n))}function s(t,e){return 0===t?e:1+(t-1|63)}function a(e){var n,i=[];for(n=0;n<e.length;++n)i.push(t.toUint8(e[n]));return i}function l(t,e,n){for(var i=0;i<n;++i)t.push(e)}function c(t,e,n,r){if(!r){var o=e;e=i(n),n=i(o)}for(var s=0;s<8;++s)s<4?t.push(n>>>8*s&255):t.push(e>>>8*(s-4)&255)}var h=16777215;!function(){var n=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],o=[3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745];t.md5=function(u){if(u.length>h)throw new Error("Array is too big. Maximum allowed size: "+h);var p=a(u),g=u.length;p.push(128),l(p,0,s(g+9)-g-9),c(p,0,8*g,!0);for(var d=1732584193,f=4023233417,m=2562383102,_=271733878,v=0;v<p.length;v+=64){for(var b=d,x=f,y=m,w=_,E=0;E<64;++E){var S,P;E<16?(S=x&y|~x&w,P=E):E<32?(S=w&x|~w&y,P=(5*E+1)%16):E<48?(S=x^y^w,P=(3*E+5)%16):(S=y^(x|~w),P=7*E%16),S=S+b+o[E]+r(p,v,P)>>>0,b=w,w=y,y=x,x=x+e(S,n[E])>>>0}d=d+b>>>0,f=f+x>>>0,m=m+y>>>0,_=_+w>>>0}return t.padLeft(i(d).toString(16),"0",8)+t.padLeft(i(f).toString(16),"0",8)+t.padLeft(i(m).toString(16),"0",8)+t.padLeft(i(_).toString(16),"0",8)}}(),t.sha1=function(n){if(n.length>h)throw new Error("Array is too big. Maximum allowed size: "+h);var i=a(n),r=n.length;i.push(128),l(i,0,s(r+9)-r-9),c(i,0,8*r,!1);for(var u=1732584193,p=4023233417,g=2562383102,d=271733878,f=3285377520,m=0;m<i.length;m+=64){var _,v=u,b=p,x=g,y=d,w=f,E=[];for(_=0;_<80;++_)_<16?E.push(o(i,m,_)):E.push(e(E[_-3]^E[_-8]^E[_-14]^E[_-16],1));for(_=0;_<80;++_){var S,P;_<20?(S=b&x|~b&y,P=1518500249):_<40?(S=b^x^y,P=1859775393):_<60?(S=b&x|b&y|x&y,P=2400959708):(S=b^x^y,P=3395469782);var C=e(v,5)+S+w+P+E[_]>>>0;w=y,y=x,x=e(b,30),b=v,v=C}u=u+v>>>0,p=p+b>>>0,g=g+x>>>0,d=d+y>>>0,f=f+w>>>0}return t.padLeft(u.toString(16),"0",8)+t.padLeft(p.toString(16),"0",8)+t.padLeft(g.toString(16),"0",8)+t.padLeft(d.toString(16),"0",8)+t.padLeft(f.toString(16),"0",8)},function(){function e(t,e,i,r,u,p,g,d,f,m){if(t.length>h)throw new Error("Array is too big. Maximum allowed size: "+h);var _=a(t),v=t.length;_.push(128),l(_,0,s(v+9)-v-9),c(_,0,8*v,!1);for(var b=0;b<_.length;b+=64){var x,y=i,w=r,E=u,S=p,P=g,C=d,L=f,k=m,N=[];for(x=0;x<64;++x)if(x<16)N.push(o(_,b,x));else{var T=n(N[x-15],7)^n(N[x-15],18)^N[x-15]>>>3,F=n(N[x-2],17)^n(N[x-2],19)^N[x-2]>>>10;N.push(N[x-16]+T+N[x-7]+F>>>0)}for(x=0;x<64;++x){var D=n(P,6)^n(P,11)^n(P,25),B=n(y,2)^n(y,13)^n(y,22),J=y&w^y&E^w&E,H=k+D+(P&C^~P&L)+e[x]+N[x]>>>0;k=L,L=C,C=P,P=S+H>>>0,S=E,E=w,w=y,y=H+(B+J>>>0)>>>0}i=i+y>>>0,r=r+w>>>0,u=u+E>>>0,p=p+S>>>0,g=g+P>>>0,d=d+C>>>0,f=f+L>>>0,m=m+k>>>0}return[i,r,u,p,g,d,f,m]}var i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];t.sha224=function(n){var r=e(n,i,3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428);return t.padLeft(r[0].toString(16),"0",8)+t.padLeft(r[1].toString(16),"0",8)+t.padLeft(r[2].toString(16),"0",8)+t.padLeft(r[3].toString(16),"0",8)+t.padLeft(r[4].toString(16),"0",8)+t.padLeft(r[5].toString(16),"0",8)+t.padLeft(r[6].toString(16),"0",8)},t.sha256=function(n){var r=e(n,i,1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225);return t.padLeft(r[0].toString(16),"0",8)+t.padLeft(r[1].toString(16),"0",8)+t.padLeft(r[2].toString(16),"0",8)+t.padLeft(r[3].toString(16),"0",8)+t.padLeft(r[4].toString(16),"0",8)+t.padLeft(r[5].toString(16),"0",8)+t.padLeft(r[6].toString(16),"0",8)+t.padLeft(r[7].toString(16),"0",8)}}()}(window.clc=window.clc||{}),function(t){t.LerpExtension=function(){this._mathJs=null},t.LerpExtension.prototype.extend=function(t){var e=this;if(this._mathJs=t,!this._mathJs.lerp){var n=this._mathJs.typed("lerp",{"BigNumber, BigNumber, BigNumber":function(t,n,i){return e._functionLerpNumber(t,n,i)},"Color, Color, BigNumber":function(t,n,i){return e._functionLerpColor(t,n,i)}});this._mathJs.import({lerp:n})}},t.LerpExtension.prototype._functionLerpNumber=function(t,e,n){if(n.lessThan(0)||n.greaterThan(1))throw new Error("Interpolation coefficient must be in range [0, 1]");var i=new this._mathJs.bignumber(1).minus(n).times(t),r=n.times(e);return i.plus(r)},t.LerpExtension.prototype._functionLerpColor=function(e,n,i){if(i.lessThan(0)||i.greaterThan(1))throw new Error("Interpolation coefficient must be in range [0, 1]");var r=t.mathJsToValidNumber(i),o=e.op([1-r,1-r,1-r,1-r],function(t,e){return t*e}),s=n.op([r,r,r,r],function(t,e){return t*e});return o.op(s.toArgbf(),function(t,e){return t+e})}}(window.clc=window.clc||{}),function(t){t.FunctionPlot2D=function(e,n,i,r,o,s){this.id=t.randomId("plot2d-"),this._mathJs=s;var a=o.totalWidth-o.axisYWidth,l=o.totalHeight-o.axisXHeight-o.legendHeight,c=Math.abs(a/(i[1]-i[0])),h=a/2-.5*(i[0]+i[1])*c;this._graphParameters={size:{width:a,height:l},transform:{x:{scale:c,offset:h},y:{scale:-c,offset:l/2}},scale:{x:{begin:0,step:0},y:{begin:0,step:0}},offset:{x:o.axisYWidth,y:o.legendHeight},state:{isDragging:!1,beginDragX:0,beginDragY:0}},this._function={expression:e,variable:n,domain:i,scope:r},this._attributes={svg:{id:this.id,class:"function-plot2d",width:o.totalWidth,height:o.totalHeight},"svg.legend.text":{class:"function-plot2d-legend","text-anchor":"end",x:o.totalWidth,y:15},"svg.canvas.g":{class:"function-plot2d-canvas",transform:"translate(0, "+o.legendHeight+")"},"svg.canvas.defs.clipPath":{id:"clip-path-"+this.id},"svg.canvas.defs.clipPath.rect":{width:this._graphParameters.size.width,height:this._graphParameters.size.height},"svg.canvas.axisX.g":{class:"function-plot2d-axis-x",transform:"translate("+o.axisYWidth+", "+this._graphParameters.size.height+")"},"svg.canvas.axisX.g.path":{"shape-rendering":"crispedges",d:"M0,0H"+this._graphParameters.size.width},"svg.canvas.axisX.g.scale.g.text":{style:"text-anchor: middle;",y:"1.5em"},"svg.canvas.axisX.g.scale.g.line":{x1:0,y1:0,x2:0,y2:5,"shape-rendering":"crispedges","stroke-width":1},"svg.canvas.axisY.g":{class:"function-plot2d-axis-y",transform:"translate("+o.axisYWidth+", 0)"},"svg.canvas.axisY.g.path":{"shape-rendering":"crispedges",d:"M0,0V"+this._graphParameters.size.height},"svg.canvas.axisY.g.scale.g.text":{style:"text-anchor: end;",x:"-0.5em",dy:"0.31em"},"svg.canvas.axisY.g.scale.g.line":{x1:0,y1:0,x2:-5,y2:0,"shape-rendering":"crispedges","stroke-width":1},"svg.canvas.eventGrabArea.rect":{class:"function-plot2d-event-grab",width:this._graphParameters.size.width,height:this._graphParameters.size.height,fill:"none",x:o.axisYWidth},"svg.canvas.graph.g":{transform:"translate("+o.axisYWidth+", 0)","clip-path":"url(#clip-path-"+this.id+")"},"svg.canvas.graph.originX.path":{class:"function-plot2d-origin-x","stroke-width":"1","shape-rendering":"crispedges",d:"M0,"+this._toScreenY(0)+"H"+this._graphParameters.size.width},"svg.canvas.graph.originY.path":{class:"function-plot2d-origin-y","stroke-width":"1","shape-rendering":"crispedges",d:"M"+this._toScreenX(0)+",0V"+this._graphParameters.size.height},"svg.canvas.graph.data.path":{class:"function-plot2d-graph","stroke-width":1,fill:"none","stroke-linecap":"round",d:""}},this._xmlns="http://www.w3.org/2000/svg",this._elements={},this.update()},t.FunctionPlot2D.isEventConsumed=function(t){return 1===$(t.target).closest(".function-plot2d-event-grab").length},t.FunctionPlot2D.prototype.svg=function(){return this._elements={},t.htmlTag("svg",this._attributes.svg,[this._legend(),this._canvas()])},t.FunctionPlot2D.prototype.update=function(){if(!this._elements.svg){var t=$("#"+this.id);t.length&&(this._elements.svg=t.eq(0),this._elements.axis={x:this._elements.svg.find("."+this._attributes["svg.canvas.axisX.g"].class).eq(0),y:this._elements.svg.find("."+this._attributes["svg.canvas.axisY.g"].class).eq(0)},this._elements.origin={x:this._elements.svg.find("."+this._attributes["svg.canvas.graph.originX.path"].class).eq(0),y:this._elements.svg.find("."+this._attributes["svg.canvas.graph.originY.path"].class).eq(0)},this._elements.graph=this._elements.svg.find("."+this._attributes["svg.canvas.graph.data.path"].class).eq(0))}this._updateAxisScale(),this._updateOrigin(),this._updateFunctionData()},t.FunctionPlot2D.prototype.setPointerCoordinates=function(e,n){this._elements.legend||(this._elements.legend=$("#"+this.id+" ."+this._attributes["svg.legend.text"].class));var i=1/this._graphParameters.transform.x.scale,r=Math.floor(Math.log10(i)),o=Math.abs(t.clamp(r-1,-15,0)),s=(+this._fromScreenX(e-this._graphParameters.offset.x).toFixed(o)).toString(),a=(+this._fromScreenY(n-this._graphParameters.offset.y).toFixed(o)).toString();this._elements.legend.text("X: "+s+", Y: "+a)},t.FunctionPlot2D.prototype.clearLegend=function(){this._elements.legend||(this._elements.legend=$("#"+this.id+" ."+this._attributes["svg.legend.text"].class)),this._elements.legend.text("")},t.FunctionPlot2D.prototype.zoom=function(t){var e=t>0?1.1:.9;this._graphParameters.transform.x.scale*=e,this._graphParameters.transform.y.scale*=e,this.update()},t.FunctionPlot2D.prototype.beginDrag=function(t,e){this._graphParameters.state.isDragging=!0,this._graphParameters.state.beginDragX=t,this._graphParameters.state.beginDragY=e},t.FunctionPlot2D.prototype.endDrag=function(){this._graphParameters.state.isDragging=!1},t.FunctionPlot2D.prototype.onDrag=function(t,e){this._graphParameters.state.isDragging&&(this._graphParameters.transform.x.offset+=t-this._graphParameters.state.beginDragX,this._graphParameters.transform.y.offset+=e-this._graphParameters.state.beginDragY,this._graphParameters.state.beginDragX=t,this._graphParameters.state.beginDragY=e,this.update())},t.FunctionPlot2D.prototype._legend=function(){return t.htmlTag("text",this._attributes["svg.legend.text"])},t.FunctionPlot2D.prototype._canvas=function(){return t.htmlTag("g",this._attributes["svg.canvas.g"],[this._defs(),this._axisX(),this._axisY(),this._graph(),this._eventGrabArea()])},t.FunctionPlot2D.prototype._defs=function(){return t.htmlTag("defs",null,t.htmlTag("clipPath",this._attributes["svg.canvas.defs.clipPath"],t.htmlTag("rect",this._attributes["svg.canvas.defs.clipPath.rect"])))},t.FunctionPlot2D.prototype._axisX=function(){var e=this._axisXScale(!1);return e.push(t.htmlTag("path",this._attributes["svg.canvas.axisX.g.path"])),t.htmlTag("g",this._attributes["svg.canvas.axisX.g"],e)},t.FunctionPlot2D.prototype._axisY=function(){var e=this._axisYScale(!1);return e.push(t.htmlTag("path",this._attributes["svg.canvas.axisY.g.path"])),t.htmlTag("g",this._attributes["svg.canvas.axisY.g"],e)},t.FunctionPlot2D.prototype._axisXScale=function(e){for(var n=this,i=[],r=e?function(e,i,r){return t.domElement(n._xmlns,e,i,r)}:t.htmlTag,o=this._boundsX(),s=this._graphParameters.scale.x.begin;s<=o[1];s+=this._graphParameters.scale.x.step){var a=r("g",{transform:"translate("+this._toScreenX(s)+", 0)"},[r("text",this._attributes["svg.canvas.axisX.g.scale.g.text"],this._prettyPrintNumber(s)),r("line",this._attributes["svg.canvas.axisX.g.scale.g.line"])]);i.push(a)}return i},t.FunctionPlot2D.prototype._axisYScale=function(e){for(var n=this,i=[],r=e?function(e,i,r){return t.domElement(n._xmlns,e,i,r)}:t.htmlTag,o=this._boundsY(),s=this._graphParameters.scale.y.begin;s<=o[1];s+=this._graphParameters.scale.y.step){var a=r("g",{transform:"translate(0, "+this._toScreenY(s)+")"},[r("text",this._attributes["svg.canvas.axisY.g.scale.g.text"],this._prettyPrintNumber(s)),r("line",this._attributes["svg.canvas.axisY.g.scale.g.line"])]);i.push(a)}return i},t.FunctionPlot2D.prototype._graph=function(){return this._attributes["svg.canvas.graph.data.path"].d=this._data,t.htmlTag("g",this._attributes["svg.canvas.graph.g"],[this._origin(),t.htmlTag("path",this._attributes["svg.canvas.graph.data.path"])])},t.FunctionPlot2D.prototype._origin=function(){return t.htmlTag("path",this._attributes["svg.canvas.graph.originX.path"])+t.htmlTag("path",this._attributes["svg.canvas.graph.originY.path"])},t.FunctionPlot2D.prototype._updateOrigin=function(){this._elements.origin&&(this._elements.origin.x.attr("d","M0,"+this._toScreenY(0)+"H"+this._graphParameters.size.width),this._elements.origin.y.attr("d","M"+this._toScreenX(0)+",0V"+this._graphParameters.size.height))},t.FunctionPlot2D.prototype._eventGrabArea=function(){return t.htmlTag("rect",this._attributes["svg.canvas.eventGrabArea.rect"])},t.FunctionPlot2D.prototype._updateFunctionData=function(){this._data=this._sampleFunctionData(),this._elements.graph&&this._elements.graph.attr("d",this._data)},t.FunctionPlot2D.prototype._sampleFunctionData=function(){for(var e,n,i,r,o=1/this._graphParameters.transform.x.scale,s=this._boundsX(),a="M",l="",c=s[0];c<=s[1];c+=o)if(this._function.scope[this._function.variable]=this._mathJs.bignumber(c),e=this._function.expression.eval(this._function.scope),n=!(void 0===e||null===e),i="number"==typeof e||e instanceof Number,r=!!e.toNumber,n&&(i&&isFinite(e)||r&&e.isFinite())){var h=t.clamp(this._toScreenY(r?e.toNumber():e),-1073741824,1073741824);l+=a+t.round1Dec(this._toScreenX(c))+", "+t.round1Dec(h),a="L"}else a="M";return l},t.FunctionPlot2D.prototype._updateAxisScale=function(){if(this._graphParameters.scale.x=this._calculateScaleParameters(this._boundsX()[0],this._graphParameters.size.width/this._graphParameters.transform.x.scale),this._graphParameters.scale.y=this._calculateScaleParameters(this._boundsY()[0],-this._graphParameters.size.height/this._graphParameters.transform.y.scale),this._elements.axis){this._elements.axis.x.find("g").remove();var t,e=this._axisXScale(!0);for(t=0;t<e.length;++t)this._elements.axis.x.append(e[t]);for(this._elements.axis.y.find("g").remove(),e=this._axisYScale(!0),t=0;t<e.length;++t)this._elements.axis.y.append(e[t])}},t.FunctionPlot2D.prototype._calculateScaleParameters=function(t,e){var n=Math.pow(10,Math.floor(Math.log10(e)+.2)),i=e/n,r=(i<=1.5?1:i<=3?2:5)*n/10,o=Math.ceil(t/r);return{begin:r>=1?o*r:o*(10/n*r)/(10/n),step:r}},t.FunctionPlot2D.prototype._prettyPrintNumber=function(t){return 0==t?"0":(+t.toFixed(14)).toString()},t.FunctionPlot2D.prototype._toScreenX=function(t){return t*this._graphParameters.transform.x.scale+this._graphParameters.transform.x.offset},t.FunctionPlot2D.prototype._toScreenY=function(t){return t*this._graphParameters.transform.y.scale+this._graphParameters.transform.y.offset},t.FunctionPlot2D.prototype._fromScreenX=function(t){return(t-this._graphParameters.transform.x.offset)/this._graphParameters.transform.x.scale},t.FunctionPlot2D.prototype._fromScreenY=function(t){return(t-this._graphParameters.transform.y.offset)/this._graphParameters.transform.y.scale},t.FunctionPlot2D.prototype._boundsX=function(){return[this._fromScreenX(0),this._fromScreenX(this._graphParameters.size.width)]},t.FunctionPlot2D.prototype._boundsY=function(){return[this._fromScreenY(this._graphParameters.size.height),this._fromScreenY(0)]}}(window.clc=window.clc||{}),function(t){t.PlotExtension=function(){this._mathJs=null,this._plots={},this._defaultPlotParameters={totalWidth:500,totalHeight:350,legendHeight:20,axisXHeight:25,axisYWidth:50},this._initializeEventListeners()},t.PlotExtension.prototype.extend=function(t){var e=this;if(this._mathJs=t,!this._mathJs.plot2d){var n=function(t,n,i){return e._functionPlot2D(t,i)};n.rawArgs=!0,this._mathJs.import({plot2d:n})}},t.PlotExtension.prototype._initializeEventListeners=function(){function t(t){return $(t).parent().parent()}var e=this;$(document).on({mousemove:function(n){var i=t(n.target),r=e._plots[i.attr("id")],o=i.offset();r.setPointerCoordinates(Math.round(n.pageX-o.left),Math.round(n.pageY-o.top)),r.onDrag(n.clientX,n.clientY),n.preventDefault()},mouseout:function(n){var i=e._plots[t(n.target).attr("id")];i.clearLegend(),i.endDrag()},mousedown:function(n){e._plots[t(n.target).attr("id")].beginDrag(n.clientX,n.clientY),n.preventDefault()},mouseup:function(n){e._plots[t(n.target).attr("id")].endDrag(),n.preventDefault()},mousewheel:function(n){e._plots[t(n.target).attr("id")].zoom(n.deltaY)}},".function-plot2d-event-grab")},t.PlotExtension.prototype._functionPlot2D=function(e,n){var arguments=this._getPlot2dArguments(e,n),i=new t.FunctionPlot2D(arguments.expression,arguments.variable,arguments.domain,n,this._defaultPlotParameters,this._mathJs);return this._plots[i.id]=i,new t.CallbackResult(function(){return i.svg()})},t.PlotExtension.prototype._getPlot2dArguments=function(e,n){var i={};if(!e||3!==e.length)throw new Error("'plot2d' function expects 3 arguments: function expression, argument variable, argument domain interval");if("FunctionNode"!==e[0].type&&"OperatorNode"!==e[0].type&&"SymbolNode"!==e[0].type&&"ConstantNode"!==e[1].type)throw new Error("First argument must be an expression");if("SymbolNode"!==e[1].type)throw new Error("Second argument must be an independent variable name");if("ArrayNode"!==e[2].type||2!==e[2].items.length)throw new Error("Third argument must be an interval representing domain of a function");if(i.domain=[t.mathJsToValidNumber(e[2].items[0].eval(n)),t.mathJsToValidNumber(e[2].items[1].eval(n))],i.domain[0]>=i.domain[1])throw new Error("Domain interval must be in form [min, max] where min < max");return i.domain[0]=i.domain[0]-Math.abs(.1*i.domain[0]),i.domain[1]=i.domain[1]+Math.abs(.1*i.domain[1]),i.expression=e[0].compile(),i.variable=e[1].name,i}}(window.clc=window.clc||{}),function(t){t.HexBinLiteralsExtension=function(){this._mathJs=null,this._literalRegexp=new RegExp("(?:^|[^A-Za-z0-9_\\\\$\\.])((0[bB][10\\.]+)|(0[xX][A-Fa-f0-9\\.]+))\\b","g")},t.HexBinLiteralsExtension.prototype.extend=function(t){var e=this;if(this._mathJs=t,!this._mathJs.hex){var n=this._mathJs.typed("hex",{"Array | Matrix":function(t){return e._mathJs.map(t,function(t){return e._functionHex(t)})},BigNumber:function(t){return e._functionHex(t)}});this._mathJs.import({hex:n})}if(!this._mathJs.bin){var i=this._mathJs.typed("bin",{"Array | Matrix":function(t){return e._mathJs.map(t,function(t){return e._functionBin(t)})},BigNumber:function(t){return e._functionBin(t)}});this._mathJs.import({bin:i})}},t.HexBinLiteralsExtension.prototype.preprocess=function(t){var e=this;return t.replace(this._literalRegexp,function(t,n){if(n&&n.length>2){var i=e._mathJs.bignumber(n);return t.length===n.length?i.toString():t[0]+i.toString()}})},t.HexBinLiteralsExtension.prototype._functionHex=function(t){return t.toHex()},t.HexBinLiteralsExtension.prototype._functionBin=function(t){return t.toBinary()}}(window.clc=window.clc||{}),function(t){t.LinksHandler=function(e){this._getExpressionCallback=e||null,this._isLogLinkButtonEnabled=!0,this._elements={logLinkButton:$("#generate-log-link-button")};var n=this._isCopyingToClipboardSupported();this._popoverTemplateId=n?"#template-create-link-popover":"#template-create-link-popover-no-copy",this._expressionLinkButtonHtml=$("#template-create-expression-link-button").html(),e&&(this._initializeLogLinkUi(),this._initializeExpressionLinkUi(),$(document).on("hidden.bs.popover",function(t){$(t.target).data("bs.popover").inState.click=!1}),n&&$(document).on("click",".copy-link-to-clipboard",function(e){try{if($(e.target).parents(".input-group").find("input").select(),!document.execCommand("copy"))throw new Error('Failed to execute execCommand("copy")')}catch(e){t.log("Failed to copy to clipboard: "+e.name+", "+e.message)}}))},t.LinksHandler.prototype.setLogLinkButtonEnabled=function(t){this._isLogLinkButtonEnabled!==t&&(this._isLogLinkButtonEnabled=t,this._elements.logLinkButton.toggleClass("disabled",!this._isLogLinkButtonEnabled))},t.LinksHandler.prototype.getExpressionsListFromUrl=function(){var e=this._getExpressonsListFromUrl();if(null===e)return null;try{return this._deserializeExpressionsList(e)}catch(e){return t.log(e.name+", "+e.message),null}},t.LinksHandler.prototype.injectExpressionLinkButton=function(t){t.append(this._expressionLinkButtonHtml)},t.LinksHandler.prototype._isCopyingToClipboardSupported=function(){try{return!!document.queryCommandSupported("copy")}catch(t){return!1}},t.LinksHandler.prototype._initializeLogLinkUi=function(){var t=this;this._elements.logLinkButton.popover({placement:function(){return $(window).width()<768?"bottom":"right"},container:"body",html:!0,title:"Link Generated",trigger:"manual",content:function(){return $(t._popoverTemplateId).html().replace("{link}",t._getExpressionsLink())}}),this._elements.logLinkButton.click(function(){t._isLogLinkButtonEnabled&&$(this).popover("show")}),this._elements.logLinkButton.on("shown.bs.popover",function(){var t=$(this).attr("aria-describedby");$("#"+t+" input").focus().select(),$(this).addClass("active")}),this._elements.logLinkButton.on("hidden.bs.popover",function(){$(this).removeClass("active")}),$(document).on("click",function(e){var n=t._elements.logLinkButton,i=n.attr("aria-describedby")||null;i&&n.hasClass("active")&&0===$("#"+i).has(e.target).length&&n.popover("hide")})},t.LinksHandler.prototype._initializeExpressionLinkUi=function(){var t=this;this._visibleExpressionLinkPopover=null,$("body").popover({placement:"left",container:"body",html:!0,title:"Expression Link Generated",trigger:"click",selector:".create-expression-link-button",content:function(){return $(t._popoverTemplateId).html().replace("{link}",t._getExpressionsLink($(this).parents(".command")))}}),$("body").on("shown.bs.popover",function(e){var n=$(e.target);if(n.hasClass("create-expression-link-button")){n.parents(".command").addClass("active");var i=n.attr("aria-describedby");$("#"+i+" input").focus().select(),t._visibleExpressionLinkPopover=$("#"+i)}}),$("body").on("hidden.bs.popover",function(t){var e=$(t.target);e.hasClass("create-expression-link-button")&&e.parents(".command").removeClass("active")}),$(document).on("click",function(e){t._visibleExpressionLinkPopover&&0===t._visibleExpressionLinkPopover.has(e.target).length&&(t._visibleExpressionLinkPopover.popover("hide"),t._visibleExpressionLinkPopover=null)})},t.LinksHandler.prototype._getExpressionsLink=function(t){var e=this._getExpressionCallback(t),n=this._serializeExpressionsList(e);return this._buildLink(n)},t.LinksHandler.prototype._serializeExpressionsList=function(e){var n={c:e,v:"1"},i=JSON.stringify(n);return t.base64Encode(t.stringToUtf8Array(i))},t.LinksHandler.prototype._deserializeExpressionsList=function(e){var n=t.stringFromUtf8Array(t.base64Decode(e));return JSON.parse(n).c},t.LinksHandler.prototype._buildLink=function(t){var e=window.location.href.split("/");return e[0]+"//"+e[2]+"#"+t},t.LinksHandler.prototype._getExpressonsListFromUrl=function(){if(!window.location.hash)return null;var t=window.location.hash.substring(1);return t.length?t:null}}(window.clc=window.clc||{}),function(t){t.SettingsHandler=function(t){this._onSettingsChangedCallback=t,this._elements={showSettingsDialogButton:$("#show-settings-dialog-button"),settingsDialog:$("#settings-dialog"),thousandsSeparatorSelect:$("#settings-dialog form select"),precisionInput:$("#settings-dialog form input"),applySettingsButton:$("#settings-dialog button.btn-primary")},this._settings={precision:64,thousandsSeparatorEnabled:!1},this._loadSettings(),this._initializeUi()},t.SettingsHandler.prototype.getSettings=function(){return this._settings},t.SettingsHandler.prototype._loadSettings=function(){if(void 0!==window.localStorage){var t=localStorage.getItem("settingsThousandsSeparatorEnabled"),e=localStorage.getItem("precision");t=null===t?this._settings.thousandsSeparatorEnabled:"true"===t,e=null===e?this._settings.precision:parseInt(e,10),this._settings.thousandsSeparatorEnabled=t,this._settings.precision=e}},t.SettingsHandler.prototype._saveSettings=function(){void 0!==window.localStorage&&(localStorage.setItem("settingsThousandsSeparatorEnabled",this._settings.thousandsSeparatorEnabled),localStorage.setItem("precision",this._settings.precision))},t.SettingsHandler.prototype._initializeUi=function(){var t=this;this._elements.settingsDialog.modal({backdrop:!0,keyboard:!0,show:!1}),this._elements.settingsDialog.on("show.bs.modal",function(){t._elements.showSettingsDialogButton.addClass("active")}),this._elements.settingsDialog.on("hidden.bs.modal",function(){t._elements.showSettingsDialogButton.removeClass("active")}),this._elements.applySettingsButton.click(function(){t._applySettings()}),this._elements.showSettingsDialogButton.click(function(){t._showDialog()})},t.SettingsHandler.prototype._showDialog=function(){this._elements.thousandsSeparatorSelect.val(this._settings.thousandsSeparatorEnabled?"enabled":"disabled"),this._elements.precisionInput.val(this._settings.precision),this._elements.settingsDialog.modal("show")},t.SettingsHandler.prototype._hideDialog=function(){this._elements.settingsDialog.modal("hide")},t.SettingsHandler.prototype._applySettings=function(){this._settings.thousandsSeparatorEnabled="enabled"===this._elements.thousandsSeparatorSelect.val();var e;try{if(e=parseInt(this._elements.precisionInput.val()),!isFinite(e))throw new Error("Precision is "+e)}catch(n){t.log(n),e=this._settings.precision}this._settings.precision=t.clamp(e,8,4096),this._saveSettings(),this._hideDialog(),this._onSettingsChangedCallback()}}(window.clc=window.clc||{}),function(t){t.SyntaxHighlighter=function(){this._constants=[].concat(t.MATH_JS_CONSTANTS,["true","false"]),this._keywords=[].concat(t.MATH_JS_FUNCTIONS,t.CLCALC_FUNCTIONS,t.ALIASES),this._re={identifier:new RegExp("([0-9]*)([A-Za-z_$][A-Za-z0-9_$]*)","g"),color:new RegExp("#[A-Fa-f0-9]{6,8}","g")},this._classes={constant:"highlight-constant",keyword:"highlight-keyword",color:"highlight-color"}},t.SyntaxHighlighter.prototype.highlight=function(t){var e=this;return t.replace(this._re.identifier,function(t,n,i){if(e._isValidIdentifier(n,i)){if(-1!==e._constants.indexOf(i))return n+"[[;;;highlight-constant;]"+i+"]";if(-1!==e._keywords.indexOf(i))return n+"[[;;;highlight-keyword;]"+i+"]"}return t}).replace(this._re.color,function(t){return 7===t.length||9===t.length?"[[;;;highlight-color;]"+t+"]":t})},t.SyntaxHighlighter.prototype._isValidIdentifier=function(t,e){return!(!e||0===e.length)&&(!t||1!==t.length||"0"!==t[0]||"x"!==e[0]&&"X"!==e[0]&&"b"!==e[0]&&"B"!==e[0])}}(window.clc=window.clc||{}),function(t){t.TexHandler=function(){this._pendingExpressions=[],this._elements={togglePanelButton:$("#toggle-tex-panel-button"),panel:$(".tex-panel"),panelWrapper:$(".tex-wrapper")},this._katexLoadUrl="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0-alpha1/katex.min.js",this._katexLoadInProgress=!1,this._initializeUi()},t.TexHandler.prototype.addEvaluatedExpression=function(t,e){this._pendingExpressions.push({expression:t,value:e||null}),this._render()},t.TexHandler.prototype.clear=function(){this._pendingExpressions=[],this._elements.panel.empty()},t.TexHandler.prototype._isPanelVisible=function(){return"none"!==this._elements.panelWrapper.css("display")},t.TexHandler.prototype._setPanelVisible=function(t){t?this._elements.panelWrapper.css("display",$(window).width()<768?"table-row":"table-cell"):this._elements.panelWrapper.css("display","none")},t.TexHandler.prototype._initializeUi=function(){var t=this;this._elements.togglePanelButton.click(function(){t._isPanelVisible()?t._hidePanel():t._showPanel()})},t.TexHandler.prototype._showPanel=function(){var t=this;this._elements.togglePanelButton.addClass("active"),"undefined"==typeof katex?this._loadKatex(function(){t._showPanel()}):(this._setPanelVisible(!0),this._render())},t.TexHandler.prototype._hidePanel=function(){this._elements.togglePanelButton.removeClass("active"),this._setPanelVisible(!1)},t.TexHandler.prototype._loadKatex=function(e){var n=this;this._katexLoadInProgress||(this._katexLoadInProgress=!0,$.getScript(this._katexLoadUrl).done(function(){n._katexLoadInProgress=!1,e()}).fail(function(e,i,r){n._katexLoadInProgress=!1,t.log("Failed to load Katex library: "+r.name+", "+r.message)}))},t.TexHandler.prototype._render=function(){if(this._isPanelVisible()){for(var t=0;t<this._pendingExpressions.length;++t){var e=this._pendingExpressions[t],n=$('<div class="tex-block"></div>'),i=$('<div class="tex-expression"></div>');if(this._elements.panel.append(n),n.append(i),katex.render(e.expression,i[0]),null!==e.value){var r=$('<div class="tex-value"></div>');n.append(r),katex.render(e.value,r[0])}}this._pendingExpressions.length&&(this._pendingExpressions=[],this._elements.panel.scrollTop(this._elements.panel[0].scrollHeight))}}}(window.clc=window.clc||{});